ThumbnailHelper
****************

Generovanie náhľadov k obrázkom v šablóne. .[perex]

|Verzia | 0.1
|Download |"ThumbnailHelper.php":http://files.nette.org/2986/thumbnail-helper.php
|Autor | Mário Kollarovič
|Licencia | New BSD License


Použitie v šablóne
--------------------------

/--html

{var $image='images/image.jpg'}

<img src="{$image|thumbnail: 150, 150}" />

\--

Helper skontroluje či existuje náhľad k obrázku a či je aktuálny. Ak nie, tak ho vygeneruje a uloží podľa nastavenia. Poprípade vytvorí potrebné podadresáre. Helper vracia cestu k náhľadu.

Inštalácia
---------------

Skopírujeme triedu do aplikácie a v `app/config/config.neon` si definujeme helper ako službu:

/-- code neon

services:
	thumbnailHelper: ThumbnailHelper(%wwwDir%, @httpRequest, 'images/{filename}-{width}x{height}.{extension}').

\--

Tretí parameter je maska pre cestu ukladania náhľadov.

napr pre `{='images/product.jpg'|thumbnail: 150, 150}`

|* Maska |* Vygeneruje
|images/{filename}-{width}x{height}.{extension}| images/product-150x150.jpg
|images/cache/{width}x{height}/{filename}.{extension}| images/cache/150x150/product.jpg


Ďalej do prezenteru pridáme:

/-- code php

abstract class BasePresenter extends Nette\Application\UI\Presenter
{

	/** @var ThumbnailHelper */
	protected $thumbnailHelper;


	public function inject(ThumbnailHelper $thumbnailHelper)
	{
		$this->thumbnailHelper = $thumbnailHelper;
	}


	protected function createTemplate($class = NULL)
	{
		$template = parent::createTemplate($class);
		$template->registerHelper('thumbnail', $this->thumbnailHelper->thumbnail);
		return $template;
	}
}

\--

{{attachment: thumbnail-helper.php}}

{{author: Mario Kollarovic|8230}}
