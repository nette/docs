Bootstrap
*********

<div class=perex>

Bootstrap - —Ü–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–∏–π –∫–æ–¥, —è–∫–∏–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, —Å—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (DI) —ñ –∑–∞–ø—É—Å–∫–∞—î –¥–æ–¥–∞—Ç–æ–∫. –ú–∏ –æ–±–≥–æ–≤–æ—Ä–∏–º–æ:

- —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ–∞–π–ª—ñ–≤ NEON
- —è–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä–µ–∂–∏–º–∞–º–∏ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ —Ç–∞ —Ä–æ–∑—Ä–æ–±–∫–∏
- —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä DI

</div>


–î–æ–¥–∞—Ç–∫–∏, —á–∏ —Ç–æ –≤–µ–±-–¥–æ–¥–∞—Ç–∫–∏, —á–∏ —Ç–æ —Å–∫—Ä–∏–ø—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞, –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤ —Ç—ñ–π —á–∏ —ñ–Ω—à—ñ–π —Ñ–æ—Ä–º—ñ. –£ —Å—Ç–∞—Ä–æ–¥–∞–≤–Ω—ñ —á–∞—Å–∏ –∑–∞ —Ü–µ –º—ñ–≥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ —Ñ–∞–π–ª –∑ —ñ–º'—è–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `include.inc.php`, —è–∫–∏–π –≤–∫–ª—é—á–∞–≤—Å—è —É –≤–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª.
–£ —Å—É—á–∞—Å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫–∞—Ö Nette –≤—ñ–Ω –∑–∞–º—ñ–Ω–µ–Ω–∏–π –∫–ª–∞—Å–æ–º `Bootstrap`, —è–∫–∏–π —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –¥–æ–¥–∞—Ç–∫–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ `app/Bootstrap.php`. –¶–µ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∞–∫:

```php
use Nette\Bootstrap\Configurator;

class Bootstrap
{
	private Configurator $configurator;
	private string $rootDir;

	public function __construct()
	{
		$this->rootDir = dirname(__DIR__);
		// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ç–æ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —Å–ª—É–∂–± –ø—Ä–æ–≥—Ä–∞–º–∏.
		$this->configurator = new Configurator;
		// –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤, —â–æ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è Nette (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω—ñ —à–∞–±–ª–æ–Ω–∏)
		$this->configurator->setTempDirectory($this->rootDir . '/temp');
	}

	public function bootWebApplication(): Nette\DI\Container
	{
		$this->initializeEnvironment();
		$this->setupContainer();
		return $this->configurator->createContainer();
	}

	private function initializeEnvironment(): void
	{
		// Nette —Ä–æ–∑—É–º–Ω–∏–π, —ñ —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–º–∏–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ,
		// –∞–±–æ –≤–∏ –º–æ–∂–µ—Ç–µ —É–≤—ñ–º–∫–Ω—É—Ç–∏ –π–æ–≥–æ –¥–ª—è –ø–µ–≤–Ω–æ—ó IP-–∞–¥—Ä–µ—Å–∏, –Ω–µ –∫–æ–º–µ–Ω—Ç—É—é—á–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—è–¥–æ–∫:
		// $this->configurator->setDebugMode('secret@23.75.345.200');

		// –í–º–∏–∫–∞—î Tracy: –Ω–∞–π–∫—Ä–∞—â–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è "—à–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏–π –∞—Ä–º—ñ–π—Å—å–∫–∏–π –Ω—ñ–∂".
		$this->configurator->enableTracy($this->rootDir . '/log');

		// RobotLoader: –∞–≤—Ç–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–ª–∞—Å—ñ–≤ —É –≤–∫–∞–∑–∞–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ
		$this->configurator->createRobotLoader()
			->addDirectory(__DIR__)
			->register();
	}

	private function setupContainer(): void
	{
		// –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏
		$this->configurator->addConfig($this->rootDir . '/config/common.neon');
	}
}
```


index.php .[#toc-index-php]
===========================

–ü–æ—á–∞—Ç–∫–æ–≤–∏–º —Ñ–∞–π–ª–æ–º –¥–ª—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—ñ–≤ —î `index.php`, —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π —É –∑–∞–≥–∞–ª—å–Ω–æ–¥–æ—Å—Ç—É–ø–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ `www/`. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–ª–∞—Å `Bootstrap` –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ü–æ—Ç—ñ–º –≤—ñ–Ω –æ—Ç—Ä–∏–º—É—î —Å–µ—Ä–≤—ñ—Å `Application` –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —è–∫–∏–π –∑–∞–ø—É—Å–∫–∞—î –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫:

```php
$bootstrap = new App\Bootstrap;
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ + —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ DI
$container = $bootstrap->bootWebApplication();
// –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä DI —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç Nette\Application\Application
$application = $container->getByType(Nette\Application\Application::class);
// –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ Nette —Ç–∞ –æ–±—Ä–æ–±—ñ—Ç—å –≤—Ö—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Ç
$application->run();
```

–Ø–∫ –≤–∏ –±–∞—á–∏—Ç–µ, –∫–ª–∞—Å [api:Nette\Bootstrap\Configurator], —è–∫–∏–π –º–∏ –∑–∞—Ä–∞–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º–æ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ, –¥–æ–ø–æ–º–∞–≥–∞—î –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (DI).


–†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —Ä–µ–∂–∏–º –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ .[#toc-development-vs-production-mode]
==========================================================================

Nette –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –ø–æ-—Ä—ñ–∑–Ω–æ–º—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –∑–∞–ø—É—â–µ–Ω–æ –π–æ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ä–æ–∑—Ä–æ–±–∫–∏, —á–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ:

üõ†Ô∏è –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏:
	- –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø–∞–Ω–µ–ª—å –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è Tracy –∑ –∫–æ—Ä–∏—Å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, SQL-–∑–∞–ø–∏—Ç–∏, —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ).
	- –ü–æ–∫–∞–∑—É—î –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø–æ–º–∏–ª–æ–∫ –∑ —Ç—Ä–∞—Å—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–ª–∏–∫—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ –≤–º—ñ—Å—Ç–æ–º –∑–º—ñ–Ω–Ω–∏—Ö –ø—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–∫–∏.
	- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î –∫–µ—à –ø—Ä–∏ –∑–º—ñ–Ω—ñ —à–∞–±–ª–æ–Ω—ñ–≤ Latte, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–æ—â–æ.


üöÄ –í–∏—Ä–æ–±–Ω–∏—á–∏–π —Ä–µ–∂–∏–º:
	- –ù–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –Ω—ñ—è–∫–æ—ó –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó; –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ —Ä–µ—î—Å—Ç—Ä—É—é—Ç—å—Å—è.
	- –ü–æ–∫–∞–∑—É—î `ErrorPresenter` –∞–±–æ –∑–∞–≥–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É "–ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞", –∫–æ–ª–∏ –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞.
	- –ö–µ—à –Ω—ñ–∫–æ–ª–∏ –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!
	- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ —Ç–∞ –±–µ–∑–ø–µ–∫–∏.


–†–µ–∂–∏–º –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, —Ç–æ–º—É –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –Ω–µ–º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –∞–±–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ –π–æ–≥–æ –≤—Ä—É—á–Ω—É:

- –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏: –ê–∫—Ç–∏–≤–Ω–∏–π –Ω–∞ localhost (IP-–∞–¥—Ä–µ—Å–∞ `127.0.0.1` –∞–±–æ `::1`), —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ–∫—Å—ñ (—Ç–æ–±—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –π–æ–≥–æ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤).
- –í–∏—Ä–æ–±–Ω–∏—á–∏–π —Ä–µ–∂–∏–º: –ê–∫—Ç–∏–≤–Ω–∏–π —Å–∫—Ä—ñ–∑—å.

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–≤—ñ–º–∫–Ω—É—Ç–∏ —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ –≤ —ñ–Ω—à–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤, —è–∫—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –¥–æ—Å—Ç—É–ø –∑ –ø–µ–≤–Ω–æ—ó IP-–∞–¥—Ä–µ—Å–∏, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `setDebugMode()`:

```php
$this->configurator->setDebugMode('23.75.345.200'); // –æ–¥–Ω–∞ –∞–±–æ –±—ñ–ª—å—à–µ IP-–∞–¥—Ä–µ—Å
```

–ú–∏ –±–µ–∑—É–º–æ–≤–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ—î–¥–Ω—É–≤–∞—Ç–∏ IP-–∞–¥—Ä–µ—Å—É –∑ —Ñ–∞–π–ª–æ–º cookie. –ú–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ–º–æ —Å–µ–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–∫–µ–Ω —É cookie `nette-debug', –Ω–∞–ø—Ä–∏–º–µ—Ä, `secret1234`, —ñ —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ –±—É–¥–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤ —ñ–∑ —Ç–∞–∫–æ—é –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—î—é IP —ñ cookie.

```php
$this->configurator->setDebugMode('secret1234@23.75.345.200');
```

–ú–æ–∂–Ω–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–º–∫–Ω—É—Ç–∏ —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞, –Ω–∞–≤—ñ—Ç—å –¥–ª—è localhost:

```php
$this->configurator->setDebugMode(false);
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è `true` –∂–æ—Ä—Å—Ç–∫–æ –≤–º–∏–∫–∞—î —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞, —á–æ–≥–æ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ.


–ù–∞–ª–∞–≥–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Tracy .[#toc-debugging-tool-tracy]
==============================================================

–î–ª—è –ø–æ–ª–µ–≥—à–µ–Ω–Ω—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –º–∏ —É–≤—ñ–º–∫–Ω–µ–º–æ —á—É–¥–æ–≤–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç [Tracy |tracy:]. –£ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤—ñ–Ω –≤—ñ–∑—É–∞–ª—ñ–∑—É—î –ø–æ–º–∏–ª–∫–∏, –∞ –≤ —Ä–µ–∂–∏–º—ñ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ - –∑–∞–ø–∏—Å—É—î –ø–æ–º–∏–ª–∫–∏ –≤ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥:

```php
$this->configurator->enableTracy($this->rootDir . '/log');
```


–¢–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏ .[#toc-temporary-files]
=======================================

Nette –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—à –¥–ª—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, RobotLoader, —à–∞–±–ª–æ–Ω—ñ–≤ —Ç–æ—â–æ. –¢–æ–º—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–¥–∞—Ç–∏ —à–ª—è—Ö –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ—Ç—å—Å—è –∫–µ—à:

```php
$this->configurator->setTempDirectory($this->rootDir . '/temp');
```

–£ Linux –∞–±–æ macOS –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [–ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å |nette:troubleshooting#Setting-Directory-Permissions] –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥—ñ–≤ `log/` —ñ `temp/`.


RobotLoader .[#toc-robotloader]
===============================

–ó–∞–∑–≤–∏—á–∞–π –º–∏ —Ö–æ—á–µ–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é [RobotLoader |robot-loader:], —Ç–æ–º—É –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –π–æ–≥–æ —ñ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –π–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–ª–∞—Å–∏ –∑ –∫–∞—Ç–∞–ª–æ–≥—É, –≤ —è–∫–æ–º—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è `Bootstrap.php` (—Ç–æ–±—Ç–æ `__DIR__`) —ñ –≤—Å—ñ –π–æ–≥–æ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥–∏:

```php
$this->configurator->createRobotLoader()
	->addDirectory(__DIR__)
	->register();
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –∞–≤—Ç–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è PSR-4 [Composer |best-practices:composer].


–ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å .[#toc-timezone]
=============================

Configurator –¥–∞—î –∑–º–æ–≥—É –≤–∫–∞–∑–∞—Ç–∏ —á–∞—Å–æ–≤–∏–π –ø–æ—è—Å –¥–ª—è –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

```php
$this->configurator->setTimeZone('Europe/Prague');
```


–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ .[#toc-di-container-configuration]
=============================================================

–ß–∞—Å—Ç–∏–Ω–æ—é –ø—Ä–æ—Ü–µ—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Ç–æ–±—Ç–æ —Ñ–∞–±—Ä–∏–∫–∏ –æ–±'—î–∫—Ç—ñ–≤, —è–∫–∞ —î —Å–µ—Ä—Ü–µ–º —É—Å—å–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞. –ù–∞—Å–ø—Ä–∞–≤–¥—ñ —Ü–µ PHP-–∫–ª–∞—Å, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π Nette, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ –∫–µ—à—É. –§–∞–±—Ä–∏–∫–∞ —Å—Ç–≤–æ—Ä—é—î –∫–ª—é—á–æ–≤—ñ –æ–±'—î–∫—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ç—É—é—Ç—å —ó—ó, —è–∫ —ó—Ö —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏, —ñ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –º–∏ –≤–ø–ª–∏–≤–∞—î–º–æ –Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –≤—Å—å–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

–§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∑–∞–∑–≤–∏—á–∞–π –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è —É —Ñ–æ—Ä–º–∞—Ç—ñ [NEON |neon:format]. –í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ [—â–æ –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç—É—Ç |nette:configuring].

.[tip]
–£ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —â–æ—Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ –∑–º—ñ–Ω—é—î—Ç–µ –∫–æ–¥ –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏. –£ –≤–∏—Ä–æ–±–Ω–∏—á–æ–º—É —Ä–µ–∂–∏–º—ñ –≤—ñ–Ω –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, –∞ –∑–º—ñ–Ω–∏ —Ñ–∞–π–ª—ñ–≤ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

–§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `addConfig()`:

```php
$this->configurator->addConfig($this->rootDir . '/config/common.neon');
```

–ú–µ—Ç–æ–¥ `addConfig()` –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö —Ñ–∞–π–ª—ñ–≤.

```php
$configDir = $this->rootDir . '/config';
$this->configurator->addConfig($configDir . '/common.neon');
$this->configurator->addConfig($configDir . '/services.neon');
if (PHP_SAPI === 'cli') {
	$this->configurator->addConfig($configDir . '/cli.php');
}
```

–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è `cli.php` –Ω–µ —î –¥—Ä—É–∫–∞—Ä—Å—å–∫–æ—é –ø–æ–º–∏–ª–∫–æ—é, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏ –≤ PHP-—Ñ–∞–π–ª—ñ, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î —ó—ó —É –≤–∏–≥–ª—è–¥—ñ –º–∞—Å–∏–≤—É.

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ [—Å–µ–∫—Ü—ñ—é `includes` |dependency-injection:configuration#Including-Files] –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤.

–Ø–∫—â–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –∫–ª—é—á–∞–º–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —É —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å [–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ñ –∞–±–æ –æ–±'—î–¥–Ω–∞–Ω—ñ |dependency-injection:configuration#Merging] —É –≤–∏–ø–∞–¥–∫—É –º–∞—Å–∏–≤—ñ–≤. –ü—ñ–∑–Ω—ñ—à–µ –≤–∫–ª—é—á–µ–Ω–∏–π —Ñ–∞–π–ª –º–∞—î –≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç, –Ω—ñ–∂ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ. –§–∞–π–ª, –∑–∞–∑–Ω–∞—á–µ–Ω–∏–π —É —Å–µ–∫—Ü—ñ—ó `includes`, –º–∞—î –≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç, –Ω—ñ–∂ —Ñ–∞–π–ª–∏, –≤–∫–ª—é—á–µ–Ω—ñ –≤ –Ω—å–æ–≥–æ.


–°—Ç–∞—Ç–∏—á–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ .[#toc-static-parameters]
--------------------------------------------

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —É —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ [–≤ —Å–µ–∫—Ü—ñ—ó `parameters` |dependency-injection:configuration#parameters] —ñ –ø—ñ–¥—Ö–æ–ø–ª–µ–Ω—ñ (–∞–±–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ñ) –º–µ—Ç–æ–¥–æ–º `addStaticParameters()` (—É –Ω—å–æ–≥–æ —î –∞–ª—ñ–∞—Å `addParameters()`). –í–∞–∂–ª–∏–≤–æ, —â–æ —Ä—ñ–∑–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —Ç–æ–±—Ç–æ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∫–ª–∞—Å—ñ–≤.

```php
$this->configurator->addStaticParameters([
	'projectId' => 23,
]);
```

–£ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö –º–∏ –º–æ–∂–µ–º–æ –∑–∞–ø–∏—Å–∞—Ç–∏ –∑–≤–∏—á–∞–π–Ω—É –Ω–æ—Ç–∞—Ü—ñ—é `%projectId%` –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑ —ñ–º'—è–º `projectId`.


–î–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ .[#toc-dynamic-parameters]
----------------------------------------------

–ú–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –¥–æ–¥–∞—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –á—Ö–Ω—ñ —Ä—ñ–∑–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –Ω–µ –ø—Ä–∏–∑–≤–µ–¥—É—Ç—å –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –Ω–æ–≤–∏—Ö DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.

```php
$this->configurator->addDynamicParameters([
	'remoteIp' => $_SERVER['REMOTE_ADDR'],
]);
```

–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ª–µ–≥–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤. –ú–∏ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –Ω–∏—Ö —á–µ—Ä–µ–∑ `%env.variable%` —É —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.

```php
$this->configurator->addDynamicParameters([
	'env' => getenv(),
]);
```


–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º .[#toc-default-parameters]
-----------------------------------------------------

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —É —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:

- `%appDir%` - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —à–ª—è—Ö –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É –∑ —Ñ–∞–π–ª–æ–º `Bootstrap.php`
- `%wwwDir%` - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —à–ª—è—Ö –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É, –≤ —è–∫–æ–º—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ñ–∞–π–ª –∑–∞–ø–∏—Å—É `index.php`
- `%tempDir%` - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —à–ª—è—Ö –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤
- `%vendorDir%` - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —à–ª—è—Ö –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É, –∫—É–¥–∏ Composer –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
- `%rootDir%` - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —à–ª—è—Ö –¥–æ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É –ø—Ä–æ–µ–∫—Ç—É
- `%debugMode%` –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —á–∏ –ø–µ—Ä–µ–±—É–≤–∞—î –ø—Ä–æ–≥—Ä–∞–º–∞ —É —Ä–µ–∂–∏–º—ñ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
- `%consoleMode%` –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ –∑–∞–ø–∏—Ç –Ω–∞–¥—ñ–π—à–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫


–Ü–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ .[#toc-imported-services]
---------------------------------------------

–ó–∞–≥–ª–∏–±–∏–º–æ—Å—è –¥–∞–ª—ñ. –•–æ—á–∞ –º–µ—Ç–∞ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –æ–±'—î–∫—Ç—ñ–≤, –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞—è–≤–Ω–∏–π –æ–±'—î–∫—Ç —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –¶–µ —Ä–æ–±–∏—Ç—å—Å—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º —Å–µ—Ä–≤—ñ—Å—É –∑ –∞—Ç—Ä–∏–±—É—Ç–æ–º `imported: true`:

```neon
services:
	myservice:
		type: App\Model\MyCustomService
		imported: true
```

–°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä —ñ –≤—Å—Ç–∞–≤–ª—è—î–º–æ –π–æ–≥–æ –≤ Bootstrap:

```php
$this->configurator->addServices([
	'myservice' => new App\Model\MyCustomService('foobar'),
]);
```


–†—ñ–∑–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ .[#toc-different-environments]
===============================================

–ù–µ —Å–æ—Ä–æ–º—Ç–µ—Å—è –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–ª–∞—Å `Bootstrap` –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±. –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–æ –º–µ—Ç–æ–¥—É `bootWebApplication()`, —â–æ–± —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∏. –ö—Ä—ñ–º —Ç–æ–≥–æ, –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ —ñ–Ω—à—ñ –º–µ—Ç–æ–¥–∏, —Ç–∞–∫—ñ —è–∫ `bootTestEnvironment()` –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –º–æ–¥—É–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤, `bootConsoleApplication()` –¥–ª—è —Å–∫—Ä–∏–ø—Ç—ñ–≤, —â–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞, —ñ —Ç–∞–∫ –¥–∞–ª—ñ.

```php
public function bootTestEnvironment(): Nette\DI\Container
{
	Tester\Environment::setup(); // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Nette Tester
	$this->setupContainer();
	return $this->configurator->createContainer();
}

public function bootConsoleApplication(): Nette\DI\Container
{
	$this->configurator->setDebugMode(false);
	$this->initializeEnvironment();
	$this->setupContainer();
	return $this->configurator->createContainer();
}
```
