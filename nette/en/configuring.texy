Nette Configuration
*******************

Configuration is usually written in NEON format. Have fun trying out the syntax at https://ne-on.org.
Many features of Nette Framework can be set up in configuration file. Framework configures itself by a [DI container extension |dependency-injection:extensions] ([api:Nette\DI\Extensions\NetteExtension])
 which accepts parameters in `nette:` section of the configuration file.


HTTP proxies
============

You can define your http proxy, so that HTTP request's remote address and remote host will be correct.

```neon
nette:
	http:
		proxy: 127.0.0.1  # ip address, range, hostname or array of these values
```


Sessions
========

Here you can set all [directives |php:session.configuration] (in camelCase format).

```neon
nette:
	session:
		autoStart: true  # default is smart
		expiration: 10 days
		name: ...
		...
```

.[tip]
`autoStart: smart` is recommended. It automatically starts the session only if it already exists.

Read more on [session configuration |http:sessions#Session Configuration].


Application
===========

```neon
nette:
	application:
		debugger: true  # debugger bar panel
		catchExceptions: %productionMode%
		errorPresenter: Front:Error
		mapping:  # mapping between presenter name and presenter class
			Front: App\*Module\*Presenter
```


Routing
=======

```neon
nette:
	routing:
		debugger: true  # debugger bar panel
		routes:
				index.php: Dashboard:default
				'<presenter>/<action>[/<id>]': Dashboard:default
```

[Routes |application:routing#Route] are in `mask: action` format.


Security
========

```neon
nette:
	security:
		debugger: true  # debugger bar panel
		frames: ...     # affects X-Frame-Options header

		users:
			johndoe: secretpassword

		roles:
			guest:
			member:
			admin: [member]  # admin extends member

		resources:
			file:
```

By filling in `users` option you create `SimpleAuthenticator`, by defining `roles` or `resources` you create `Nette\Security\Permission` authorizator. More in [User Authorization and Privileges |security:access-control].

For security reasons Nette Framework sends HTTP header `X-Frame-Options: SAMEORIGIN` by default, so that the page can be embedded in iframe only from pages on the same domain. This behavior may be unwanted in certain situations (for example if you are developing a facebook application). You can override this setting by `frames: yes`, `frames: http://allowed-host.com` or `frames: no`.


Mailing
=======

Default mailer is `SendmailMailer`. By setting `smtp` you activate `SmtpMailer`.

```neon
nette:
	mailer:
		smtp: true  # use SmtpMailer instead of SendmailMailer
		host: ...
		port: ...
		username: ...
		password: ...
		secure: ...
		timeout: ...
```


Database
========

You can define multiple database connections, if you do so you can set which one will be [automatically injected |dependency-injection:services#auto-wiring] to your services by the `autowired` option. The following code shows how to set up one connection called `default`.

```neon
nette:
	database:
		default:
			dsn: "sqlite2:%appDir%/models/demo.db"
			user: ...
			password: ...
			options: [PDO::MYSQL_ATTR_COMPRESS = true]
			debugger: false  # debugger bar panel
			explain: false   # explain queries in debugger bar
			reflection: discovered  # or conventional or classname, default is discovered
			autowired: true
```

This creates service `@nette.database.default` and sets reflection and cache for you.


Forms
=====

You can change default validation error messages.

```neon
nette:
	forms:
		messages:
			EQUAL: 'Please enter %s.'
			FILLED: 'Please complete mandatory field.'
			MIN_LENGTH: 'Please enter a value of at least %d characters.'
			EMAIL: '%label must be valid e-mail'
```


Latte
=====

You can turn on and off XHTML rendering mode and register custom macros.

```neon
nette:
	latte:
		xhtml: yes  # default is no
		macros:
			- App\MyLatteMacros::register  # static method, classname or callable
```


DI container
============

```neon
nette:
	container:
		debugger: true  #debugger bar panel
		accessors: true  #enables $container->serviceName shortcut
```


Debugger
========

```neon
nette:
	debugger:
		email: webmaster@example.com  # for sending error logs
		strictMode: TRUE
		editor: ...
		browser: ...

		bar:  # debugger bar panels
			- Nette\DI\Diagnostics\ContainerPanel  # alias of DI container bar
			- IncludePanel
			- XDebugHelper('myIdeKey')
			- MyPanel(@MyService)

		blueScreen:  # blue screen panels
			- DoctrinePanel::renderException
```


Low-level modifications
=======================

All these settings affect final DI container. Compared to direct definition in `services` section it provides shorter and more straightaway syntax. If you need to tune these services by yourself, you can redefine them:

```neon
services:
	nette.mailer:
		factory: MySmtpMailer

	nette.presenterFactory:
		factory: MyPresenterFactory
```

Or create new services extending the default ones:

```neon
services:
	myConnection < nette.database.default:
		setup:
			$onQuery: [ @logger::log ]
```


Services definitions
====================

See [services|dependency-injection:services].

```neon
services:
	database: Nette\Database\Connection(%dsn%, %user%, %password%)

# or multi-lines
	database:
		factory: Nette\Database\Connection(%dsn%, %user%, %password%)

# or more multi-lines :-)
	database:
		class: Nette\Database\Connection
		arguments: [%dsn%, %user%, %password%]
```

{{leftbar: application/@left-menu}}
