Prevajanje obrazcev in predlog
******************************

.[perex]
Pri ustvarjanju večjezične aplikacije boste verjetno morali isto stran ali obrazec prikazati v različnih jezikih.

Okvir Nette v ta namen opredeljuje vmesnik za prevajanje [api:Nette\Localization\Translator], ki ima eno samo metodo `translate()`. Ta prejme `$message`, ki je običajno niz, in morebitne druge parametre. Njena naloga je vrniti prevedeni niz.

Privzete implementacije v Nette ni, glede na svoje potrebe lahko izbirate med več pripravljenimi rešitvami, ki jih najdete na portalu [Componette |https://componette.org/search/localization]. Če želite izvedeti, kako konfigurirati prevajalnik, si oglejte njihovo dokumentacijo.

Prevajalnik lahko nato dobite v svoji kodi tako, da ga posredujete z uporabo [vbrizgavanja odvisnosti |dependency-injection:passing-dependencies].


Prevajanje obrazca .[#toc-form-translation]
-------------------------------------------

[Obrazci |forms:] podpirajo tiskanje besedila prek prevajalnika. Nastavite ga z metodo `setTranslator()`:

```php
$form->setTranslator($translator);
```

Od tega trenutka naprej se vse oznake, pa tudi vsa sporočila o napakah ali elementi izbirnega polja prevedejo v drug jezik.

Za posamezne kontrolne elemente obrazca je še vedno mogoče nastaviti drug prevajalnik ali popolnoma izklopiti prevajanje z uporabo vrednosti `null`:

```php
$form->addSelect('carModel', 'Model:', $cars)
	->setTranslator(null);
```

Pri [pravilih potrjevanja |forms:validation] se prevajalniku posredujejo tudi določeni parametri, na primer za pravilo:

```php
$form->addPassword('password', 'Password:')
	->addCondition($form::MinLength, 'Password must be at least %d characters long', 8);
```

se prevajalnik pokliče z naslednjimi parametri:

```php
$translator->translate('Password must be at least %d characters long', 8);
```

in tako lahko izbere pravilno množinsko obliko besede `characters` glede na število.


Prevod predloge .[#toc-template-translation]
--------------------------------------------

V predloge [Latte |latte:] lahko prevajalnik dodate z metodo `setTranslator()`:

```php
protected function beforeRender(): void
{
	// ...
	$this->template->setTranslator($translator);
}
```

Nato lahko prevajalnik uporabite kot filter `|translate`:

```latte
<a href="basket">{='Basket'|translate}</a>
<span>{$item|translate}</span>
```

Na voljo je tudi podčrtanka:

```latte
<a href="basket">{_'Basket'}</a>
<span>{_$item}</span>
```

Za prevajanje delov predloge je na voljo oznaka `{translate}` pair (od različice Latte 2.11, prej se je uporabljala oznaka `{_}` ):

```latte
<a href="order">{translate}Order{/translate}</a>
```

{{priority: -1}}
{{sitename: Best Practices}}
