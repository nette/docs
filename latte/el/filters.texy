Φίλτρα Latte
************

.[perex]
Στα πρότυπα, μπορούμε να χρησιμοποιήσουμε συναρτήσεις που βοηθούν στην τροποποίηση ή την επαναμορφοποίηση των δεδομένων στην τελική τους μορφή. Τις ονομάζουμε *φίλτρα*.

.[table-latte-filters]
|## Μετασχηματισμός
| `batch`      | [εμφάνιση γραμμικών δεδομένων σε πίνακα |#batch]
| `breakLines` | [Προσθέτει αλλαγή γραμμής HTML πριν από το τέλος της γραμμής |#breakLines]
| `bytes`      | [μορφοποιεί το μέγεθος σε bytes |#bytes]
| `clamp`      | [περιορίζει την τιμή σε ένα δεδομένο εύρος |#clamp]
| `dataStream` | [μετατροπή για το πρωτόκολλο Data URI |#dataStream]
| `date`       | [μορφοποιεί την ημερομηνία και την ώρα |#date]
| `explode`    | [χωρίζει ένα string σε έναν πίνακα με βάση έναν διαχωριστή |#explode]
| `first`      | [επιστρέφει το πρώτο στοιχείο ενός πίνακα ή τον πρώτο χαρακτήρα ενός string |#first]
| `group`      | [ομαδοποιεί δεδομένα με βάση διάφορα κριτήρια |#group]
| `implode`    | [ενώνει έναν πίνακα σε ένα string |#implode]
| `indent`     | [κάνει εσοχή στο κείμενο από τα αριστερά κατά έναν δεδομένο αριθμό tabs |#indent]
| `join`       | [ενώνει έναν πίνακα σε ένα string |#implode]
| `last`       | [επιστρέφει το τελευταίο στοιχείο ενός πίνακα ή τον τελευταίο χαρακτήρα ενός string |#last]
| `length`     | [επιστρέφει το μήκος ενός string σε χαρακτήρες ή ενός πίνακα |#length]
| `localDate`  | [μορφοποιεί την ημερομηνία και την ώρα σύμφωνα με τις τοπικές ρυθμίσεις |#localDate]
| `number`     | [μορφοποιεί έναν αριθμό |#number]
| `padLeft`    | [συμπληρώνει ένα string από τα αριστερά στο επιθυμητό μήκος |#padLeft]
| `padRight`   | [συμπληρώνει ένα string από τα δεξιά στο επιθυμητό μήκος |#padRight]
| `random`     | [επιστρέφει ένα τυχαίο στοιχείο ενός πίνακα ή έναν τυχαίο χαρακτήρα ενός string |#random]
| `repeat`     | [επανάληψη ενός string |#repeat]
| `replace`    | [αντικαθιστά τις εμφανίσεις ενός string αναζήτησης |#replace]
| `replaceRE`  | [αντικαθιστά τις εμφανίσεις σύμφωνα με μια regular expression |#replaceRE]
| `reverse`    | [αντιστρέφει ένα UTF-8 string ή έναν πίνακα |#reverse]
| `slice`      | [εξάγει ένα τμήμα ενός πίνακα ή ενός string |#slice]
| `sort`       | [ταξινομεί έναν πίνακα |#sort]
| `spaceless`  | [αφαιρεί το λευκό διάστημα |#spaceless], παρόμοια με το tag [spaceless |tags]
| `split`      | [χωρίζει ένα string σε έναν πίνακα με βάση έναν διαχωριστή |#explode]
| `strip`      | [αφαιρεί το λευκό διάστημα |#spaceless]
| `stripHtml`  | [αφαιρεί τα HTML tags και μετατρέπει τις οντότητες HTML σε χαρακτήρες |#stripHtml]
| `substr`     | [επιστρέφει ένα τμήμα ενός string |#substr]
| `trim`       | [αφαιρεί τα αρχικά και τελικά κενά ή άλλους χαρακτήρες |#trim]
| `translate`  | [μετάφραση σε άλλες γλώσσες |#translate]
| `truncate`   | [περικόπτει το μήκος διατηρώντας τις λέξεις |#truncate]
| `webalize`   | [τροποποιεί ένα UTF-8 string στη μορφή που χρησιμοποιείται στα URL |#webalize]

.[table-latte-filters]
|## Κεφαλαία/Μικρά
| `capitalize` | [μικρά γράμματα, το πρώτο γράμμα σε κάθε λέξη κεφαλαίο |#capitalize]
| `firstUpper` | [μετατρέπει το πρώτο γράμμα σε κεφαλαίο |#firstUpper]
| `lower`      | [μετατρέπει σε μικρά γράμματα |#lower]
| `upper`      | [μετατρέπει σε κεφαλαία γράμματα |#upper]

.[table-latte-filters]
|## Στρογγυλοποίηση
| `ceil`       | [στρογγυλοποιεί έναν αριθμό προς τα πάνω στην καθορισμένη ακρίβεια |#ceil]
| `floor`      | [στρογγυλοποιεί έναν αριθμό προς τα κάτω στην καθορισμένη ακρίβεια |#floor]
| `round`      | [στρογγυλοποιεί έναν αριθμό στην καθορισμένη ακρίβεια |#round]

.[table-latte-filters]
|## Escaping
| `escapeUrl`  | [κάνει escape μια παράμετρο σε ένα URL |#escapeUrl]
| `noescape`   | [εκτυπώνει μια μεταβλητή χωρίς escaping |#noescape]
| `query`      | [δημιουργεί ένα query string σε ένα URL |#query]

Επιπλέον, υπάρχουν φίλτρα escaping για HTML (`escapeHtml` και `escapeHtmlComment`), XML (`escapeXml`), JavaScript (`escapeJs`), CSS (`escapeCss`) και iCalendar (`escapeICal`), τα οποία το Latte χρησιμοποιεί από μόνο του χάρη στο [context-aware escaping |safety-first#Context-Aware Escaping] και δεν χρειάζεται να τα γράψετε.

.[table-latte-filters]
|## Ασφάλεια
| `checkUrl`   | [επεξεργάζεται μια διεύθυνση URL για επικίνδυνες εισόδους |#checkUrl]
| `nocheck`    | [αποτρέπει την αυτόματη επεξεργασία μιας διεύθυνσης URL |#nocheck]

Τα attributes `src` και `href` του Latte [ελέγχονται αυτόματα |safety-first#Έλεγχος συνδέσμων], οπότε σχεδόν ποτέ δεν χρειάζεται να χρησιμοποιήσετε το φίλτρο `checkUrl`.


.[note]
Όλα τα προεπιλεγμένα φίλτρα προορίζονται για strings στην κωδικοποίηση UTF-8.


Χρήση
=====

Τα φίλτρα γράφονται μετά από μια κάθετη γραμμή (μπορεί να υπάρχει κενό πριν από αυτήν):

```latte
<h1>{$heading|upper}</h1>
```

Τα φίλτρα (σε παλαιότερες εκδόσεις helpers) μπορούν να συνδεθούν αλυσιδωτά και στη συνέχεια εφαρμόζονται με σειρά από αριστερά προς τα δεξιά:

```latte
<h1>{$heading|lower|capitalize}</h1>
```

Οι παράμετροι εισάγονται μετά το όνομα του φίλτρου, χωρισμένες με άνω και κάτω τελείες ή κόμματα:

```latte
<h1>{$heading|truncate:20,''}</h1>
```

Τα φίλτρα μπορούν επίσης να εφαρμοστούν σε μια έκφραση:

```latte
{var $name = ($title|upper) . ($subtitle|lower)}</h1>
```

[Προσαρμοσμένα φίλτρα|custom-filters] μπορούν να εγγραφούν με αυτόν τον τρόπο:

```php
$latte = new Latte\Engine;
$latte->addFilter('shortify', fn(string $s, int $len = 10) => mb_substr($s, 0, $len));
```

Στο πρότυπο, καλείται στη συνέχεια ως εξής:

```latte
<p>{$text|shortify}</p>
<p>{$text|shortify:100}</p>
```


Φίλτρα
======


batch(int $length, mixed $item): array .[filter]
------------------------------------------------
Ένα φίλτρο που απλοποιεί την εμφάνιση γραμμικών δεδομένων σε μορφή πίνακα. Επιστρέφει έναν πίνακα πινάκων με τον καθορισμένο αριθμό στοιχείων. Εάν καθορίσετε μια δεύτερη παράμετρο, θα χρησιμοποιηθεί για τη συμπλήρωση των στοιχείων που λείπουν στην τελευταία γραμμή.

```latte
{var $items = ['a', 'b', 'c', 'd', 'e']}
<table>
{foreach ($items|batch: 3, 'No item') as $row}
	<tr>
		{foreach $row as $column}
			<td>{$column}</td>
		{/foreach}
	</tr>
{/foreach}
</table>
```

Εκτυπώνει:

```latte
<table>
	<tr>
		<td>a</td>
		<td>b</td>
		<td>c</td>
	</tr>
	<tr>
		<td>d</td>
		<td>e</td>
		<td>No item</td>
	</tr>
</table>
```

Δείτε επίσης [#group] και το tag [iterateWhile |tags#iterateWhile].


breakLines .[filter]
--------------------
Προσθέτει το HTML tag `<br>` πριν από κάθε χαρακτήρα νέας γραμμής.

```latte
{var $s = "Text & with \n newline"}
{$s|breakLines}    {* εκτυπώνει "Text &amp; with <br>\n newline" *}
```


bytes(int $precision=2) .[filter]
---------------------------------
Μορφοποιεί το μέγεθος σε bytes σε μια αναγνώσιμη από τον άνθρωπο μορφή. Εάν έχουν οριστεί [οι τοπικές ρυθμίσεις |develop#Locale], θα χρησιμοποιηθούν οι αντίστοιχοι διαχωριστές δεκαδικών και χιλιάδων.

```latte
{$size|bytes}     0 B, 1.25 GB, …
{$size|bytes:0}   10 B, 1 GB, …
```


ceil(int $precision=0) .[filter]
--------------------------------
Στρογγυλοποιεί έναν αριθμό προς τα πάνω στην καθορισμένη ακρίβεια.

```latte
{=3.4|ceil}         {* εκτυπώνει 4      *}
{=135.22|ceil:1}    {* εκτυπώνει 135.3  *}
{=135.22|ceil:3}    {* εκτυπώνει 135.22 *}
```

Δείτε επίσης [#floor], [#round].


capitalize .[filter]
--------------------
Οι λέξεις θα ξεκινούν με κεφαλαία γράμματα, όλοι οι υπόλοιποι χαρακτήρες θα είναι μικρά. Απαιτεί την επέκταση PHP `mbstring`.

```latte
{='i like LATTE'|capitalize}  {* εκτυπώνει 'I Like Latte' *}
```

Δείτε επίσης [#firstUpper], [#lower], [#upper].


checkUrl .[filter]
------------------
Επιβάλλει την επεξεργασία μιας διεύθυνσης URL. Ελέγχει εάν η μεταβλητή περιέχει μια διεύθυνση URL ιστού (δηλαδή πρωτόκολλο HTTP/HTTPS) και αποτρέπει την εμφάνιση συνδέσμων που ενδέχεται να αποτελούν κίνδυνο για την ασφάλεια.

```latte
{var $link = 'javascript:window.close()'}
<a data-href={$link|checkUrl}>ελεγχόμενο</a>
<a data-href={$link}>μη ελεγχόμενο</a>
```

Εκτυπώνει:

```latte
<a data-href="">ελεγχόμενο</a>
<a data-href="javascript:window.close()">μη ελεγχόμενο</a>
```

Δείτε επίσης [#nocheck].


clamp(int|float $min, int|float $max) .[filter]
-----------------------------------------------
Περιορίζει την τιμή στο δεδομένο εύρος min και max (συμπεριλαμβανομένων).

```latte
{$level|clamp: 0, 255}
```

Υπάρχει επίσης ως [συνάρτηση |functions#clamp].


dataStream(string $mimetype=detect) .[filter]
---------------------------------------------
Μετατρέπει το περιεχόμενο στο data URI scheme. Με αυτό, μπορείτε να ενσωματώσετε εικόνες σε HTML ή CSS χωρίς να χρειάζεται να συνδέσετε εξωτερικά αρχεία.

Ας έχουμε μια εικόνα στη μεταβλητή `$img = Image::fromFile('image.gif')`, τότε

```latte
<img src={$img|dataStream}>
```

Εκτυπώνει για παράδειγμα:

```latte
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
9TXL0Y4OHwAAAABJRU5ErkJggg==">
```

.[caution]
Απαιτεί την επέκταση PHP `fileinfo`.


date(string $format) .[filter]
------------------------------
Μορφοποιεί την ημερομηνία και την ώρα σύμφωνα με τη μάσκα που χρησιμοποιείται από τη συνάρτηση PHP [php:date]. Το φίλτρο δέχεται την ημερομηνία σε μορφή UNIX timestamp, ως string ή ως αντικείμενο τύπου `DateTimeInterface`.

```latte
{$today|date:'j. n. Y'}
```

Δείτε επίσης [#localDate].


escapeUrl .[filter]
-------------------
Κάνει escape μια μεταβλητή για χρήση ως παράμετρο σε ένα URL.

```latte
<a href="http://example.com/{$name|escapeUrl}">{$name}</a>
```

Δείτε επίσης [#query].


explode(string $separator='') .[filter]
---------------------------------------
Χωρίζει ένα string σε έναν πίνακα με βάση έναν διαχωριστή. Ψευδώνυμο για το `split`.

```latte
{='one,two,three'|explode:','}    {* επιστρέφει ['one', 'two', 'three'] *}
```

Εάν ο διαχωριστής είναι ένα κενό string (η προεπιλεγμένη τιμή), η είσοδος θα χωριστεί σε μεμονωμένους χαρακτήρες:

```latte
{='123'|explode}                  {* επιστρέφει ['1', '2', '3'] *}
```

Μπορείτε επίσης να χρησιμοποιήσετε το ψευδώνυμο `split`:

```latte
{='1,2,3'|split:','}              {* επιστρέφει ['1', '2', '3'] *}
```

Δείτε επίσης [#implode].


first .[filter]
---------------
Επιστρέφει το πρώτο στοιχείο ενός πίνακα ή τον πρώτο χαρακτήρα ενός string:

```latte
{=[1, 2, 3, 4]|first}    {* εκτυπώνει 1 *}
{='abcd'|first}          {* εκτυπώνει 'a' *}
```

Δείτε επίσης [#last], [#random].


floor(int $precision=0) .[filter]
---------------------------------
Στρογγυλοποιεί έναν αριθμό προς τα κάτω στην καθορισμένη ακρίβεια.

```latte
{=3.5|floor}        {* εκτυπώνει 3      *}
{=135.79|floor:1}   {* εκτυπώνει 135.7  *}
{=135.79|floor:3}   {* εκτυπώνει 135.79 *}
```

Δείτε επίσης [#ceil], [#round].


firstUpper .[filter]
--------------------
Μετατρέπει το πρώτο γράμμα σε κεφαλαίο. Απαιτεί την επέκταση PHP `mbstring`.

```latte
{='the latte'|firstUpper}  {* εκτυπώνει 'The latte' *}
```

Δείτε επίσης [#capitalize], [#lower], [#upper].


group(string|int|\Closure $by): array .[filter]{data-version:3.0.16}
--------------------------------------------------------------------
Το φίλτρο ομαδοποιεί δεδομένα με βάση διάφορα κριτήρια.

Σε αυτό το παράδειγμα, οι γραμμές στον πίνακα ομαδοποιούνται με βάση τη στήλη `categoryId`. Η έξοδος είναι ένας πίνακας πινάκων, όπου το κλειδί είναι η τιμή στη στήλη `categoryId`. [Διαβάστε τον αναλυτικό οδηγό|cookbook/grouping].

```latte
{foreach ($items|group: categoryId) as $categoryId => $categoryItems}
    <ul>
        {foreach $categoryItems as $item}
            <li>{$item->name}</li>
        {/foreach}
    </ul>
{/foreach}
```

Δείτε επίσης [#batch], τη συνάρτηση [group |functions#group] και το tag [iterateWhile |tags#iterateWhile].


implode(string $glue='') .[filter]
----------------------------------
Επιστρέφει ένα string που είναι η συνένωση των στοιχείων μιας ακολουθίας. Ψευδώνυμο για το `join`.

```latte
{=[1, 2, 3]|implode}      {* εκτυπώνει '123' *}
{=[1, 2, 3]|implode:'|'}  {* εκτυπώνει '1|2|3' *}
```

Μπορείτε επίσης να χρησιμοποιήσετε το ψευδώνυμο `join`:

```latte
{=[1, 2, 3]|join}         {* εκτυπώνει '123' *}
```


indent(int $level=1, string $char="\t") .[filter]
-------------------------------------------------
Κάνει εσοχή στο κείμενο από τα αριστερά κατά τον καθορισμένο αριθμό tabs ή άλλων χαρακτήρων, τους οποίους μπορούμε να καθορίσουμε στο δεύτερο όρισμα. Οι κενές γραμμές δεν έχουν εσοχή.

```latte
<div>
{block |indent}
<p>Hello</p>
{/block}
</div>
```

Εκτυπώνει:

```latte
<div>
	<p>Hello</p>
</div>
```


last .[filter]
--------------
Επιστρέφει το τελευταίο στοιχείο ενός πίνακα ή τον τελευταίο χαρακτήρα ενός string:

```latte
{=[1, 2, 3, 4]|last}    {* εκτυπώνει 4 *}
{='abcd'|last}          {* εκτυπώνει 'd' *}
```

Δείτε επίσης [#first], [#random].


length .[filter]
----------------
Επιστρέφει το μήκος ενός string ή ενός πίνακα.

- για strings, επιστρέφει το μήκος σε χαρακτήρες UTF-8
- για πίνακες, επιστρέφει τον αριθμό των στοιχείων
- για αντικείμενα που υλοποιούν τη διεπαφή Countable, χρησιμοποιεί την τιμή επιστροφής της μεθόδου count()
- για αντικείμενα που υλοποιούν τη διεπαφή IteratorAggregate, χρησιμοποιεί την τιμή επιστροφής της συνάρτησης iterator_count()


```latte
{if ($users|length) > 10}
	...
{/if}
```


localDate(?string $format=null, ?string $date=null, ?string $time=null) .[filter]
---------------------------------------------------------------------------------
Μορφοποιεί την ημερομηνία και την ώρα σύμφωνα με τις [τοπικές ρυθμίσεις |develop#Locale], εξασφαλίζοντας συνεπή και τοπικοποιημένη εμφάνιση των χρονικών δεδομένων σε διάφορες γλώσσες και περιοχές. Το φίλτρο δέχεται την ημερομηνία ως UNIX timestamp, string ή αντικείμενο τύπου `DateTimeInterface`.

```latte
{$date|localDate}                  {* 15 Απριλίου 2024 *}
{$date|localDate: format: yM}      {* 4/2024 *}
{$date|localDate: date: medium}    {* 15/4/2024 *}
```

Εάν χρησιμοποιήσετε το φίλτρο χωρίς παραμέτρους, η ημερομηνία θα εκτυπωθεί στο επίπεδο `long`, δείτε παρακάτω.

**α) Χρήση μορφής**

Η παράμετρος `format` περιγράφει ποια χρονικά στοιχεία πρέπει να εμφανιστούν. Χρησιμοποιεί γράμματα-κωδικούς για αυτά, ο αριθμός των επαναλήψεων των οποίων επηρεάζει το πλάτος της εξόδου:

| Έτος | `y` / `yy` / `yyyy` | `2024` / `24` / `2024`
| Μήνας | `M` / `MM` / `MMM` / `MMMM` | `8` / `08` / `Αυγ` / `Αύγουστος`
| Ημέρα | `d` / `dd` / `E` / `EEEE` |  `1` / `01` / `Κυ` / `Κυριακή`
| Ώρα | `j` /  `H` / `h` | Προτιμώμενο / 24ωρο / 12ωρο
| Λεπτό | `m` / `mm` | `5` / `05` <small>(2 ψηφία σε συνδυασμό με δευτερόλεπτα)</small>
| Δευτερόλεπτο | `s` / `ss` | `8` / `08` <small>(2 ψηφία σε συνδυασμό με λεπτά)</small>

Η σειρά των κωδικών στη μορφή δεν έχει σημασία, καθώς η σειρά των στοιχείων εκτυπώνεται σύμφωνα με τις συμβάσεις των τοπικών ρυθμίσεων. Επομένως, η μορφή είναι ανεξάρτητη από αυτές. Για παράδειγμα, η μορφή `yyyyMMMMd` στο περιβάλλον `en_US` εκτυπώνει `April 15, 2024`, ενώ στο περιβάλλον `el_GR` εκτυπώνει `15 Απριλίου 2024`:

| locale: | el_GR | en_US
|---
| `format: 'dMy'` | 10/8/2024 | 8/10/2024
| `format: 'yM'` | 8/2024 | 8/2024
| `format: 'yyyyMMMM'` | Αύγουστος 2024 | August 2024
| `format: 'MMMM'` | Αύγουστος | August
| `format: 'jm'` | 5:22 μ.μ. | 5:22 PM
| `format: 'Hm'` | 17:22 | 17:22
| `format: 'hm'` | 5:22 μ.μ. | 5:22 PM


**β) Χρήση προκαθορισμένων στυλ**

Οι παράμετροι `date` και `time` καθορίζουν πόσο λεπτομερώς πρέπει να εκτυπωθούν η ημερομηνία και η ώρα. Μπορείτε να επιλέξετε από διάφορα επίπεδα: `full`, `long`, `medium`, `short`. Μπορείτε να εκτυπώσετε μόνο την ημερομηνία, μόνο την ώρα ή και τα δύο:

| locale: | el_GR | en_US
|---
| `date: short` | 23/1/78 | 1/23/78
| `date: medium` | 23 Ιαν 1978 | Jan 23, 1978
| `date: long` | 23 Ιανουαρίου 1978 | January 23, 1978
| `date: full` | Δευτέρα, 23 Ιανουαρίου 1978 | Monday, January 23, 1978
| `time: short` | 8:30 π.μ. | 8:30 AM
| `time: medium` | 8:30:59 π.μ. | 8:30:59 AM
| `time: long` | 8:30:59 π.μ. EET | 8:30:59 AM GMT+2
| `date: short, time: short` | 23/1/78, 8:30 π.μ. | 1/23/78, 8:30 AM
| `date: medium, time: short` | 23 Ιαν 1978, 8:30 π.μ. | Jan 23, 1978, 8:30 AM
| `date: long, time: short` | 23 Ιανουαρίου 1978 στις 8:30 π.μ. | January 23, 1978 at 8:30 AM

Για την ημερομηνία, μπορείτε επιπλέον να χρησιμοποιήσετε το πρόθεμα `relative-` (π.χ. `relative-short`), το οποίο για ημερομηνίες κοντά στην τρέχουσα εμφανίζει `χθες`, `σήμερα` ή `αύριο`, διαφορετικά εκτυπώνεται με τον τυπικό τρόπο.

```latte
{$date|localDate: date: relative-short}    {* χθες *}
```

Δείτε επίσης [#date].


lower .[filter]
---------------
Μετατρέπει ένα string σε μικρά γράμματα. Απαιτεί την επέκταση PHP `mbstring`.

```latte
{='LATTE'|lower}   {* εκτυπώνει 'latte' *}
```

Δείτε επίσης [#capitalize], [#firstUpper], [#upper].


nocheck .[filter]
-----------------
Αποτρέπει την αυτόματη επεξεργασία μιας διεύθυνσης URL. Το Latte [ελέγχει αυτόματα |safety-first#Έλεγχος συνδέσμων] εάν η μεταβλητή περιέχει μια διεύθυνση URL ιστού (δηλαδή πρωτόκολλο HTTP/HTTPS) και αποτρέπει την εμφάνιση συνδέσμων που ενδέχεται να αποτελούν κίνδυνο για την ασφάλεια.

Εάν ο σύνδεσμος χρησιμοποιεί άλλο σχήμα, π.χ. `javascript:` ή `data:`, και είστε σίγουροι για το περιεχόμενό του, μπορείτε να απενεργοποιήσετε τον έλεγχο χρησιμοποιώντας το `|nocheck`.

```latte
{var $link = 'javascript:window.close()'}

<a href={$link}>ελεγχόμενο</a>
<a href={$link|nocheck}>μη ελεγχόμενο</a>
```

Εκτυπώνει:

```latte
<a href="">ελεγχόμενο</a>
<a href="javascript:window.close()">μη ελεγχόμενο</a>
```

Δείτε επίσης [#checkUrl].


noescape .[filter]
------------------
Απενεργοποιεί το αυτόματο escaping.

```latte
{var $trustedHtmlString = '<b>hello</b>'}
Με escape: {$trustedHtmlString}
Χωρίς escape: {$trustedHtmlString|noescape}
```

Εκτυπώνει:

```latte
Με escape: &lt;b&gt;hello&lt;/b&gt;
Χωρίς escape: <b>hello</b>
```

.[warning]
Η λανθασμένη χρήση του φίλτρου `noescape` μπορεί να οδηγήσει σε ευπάθεια XSS! Ποτέ μην το χρησιμοποιείτε αν δεν είστε **απολύτως σίγουροι** για το τι κάνετε και ότι το string που εκτυπώνεται προέρχεται από αξιόπιστη πηγή.


number(int $decimals=0, string $decPoint='.', string $thousandsSep=',') .[filter]
---------------------------------------------------------------------------------
Μορφοποιεί έναν αριθμό σε έναν συγκεκριμένο αριθμό δεκαδικών ψηφίων. Εάν έχουν οριστεί [οι τοπικές ρυθμίσεις |develop#Locale], θα χρησιμοποιηθούν οι αντίστοιχοι διαχωριστές δεκαδικών και χιλιάδων.

```latte
{1234.20|number}              1,234
{1234.20|number:1}            1,234.2
{1234.20|number:2}            1,234.20
{1234.20|number:2, ',', ' '}  1 234,20
```


number(string $format) .[filter]
--------------------------------
Η παράμετρος `format` σας επιτρέπει να ορίσετε την εμφάνιση των αριθμών ακριβώς σύμφωνα με τις ανάγκες σας. Για αυτό, πρέπει να έχετε ορίσει τις [τοπικές ρυθμίσεις |develop#Locale]. Η μορφή αποτελείται από διάφορους ειδικούς χαρακτήρες, η πλήρης περιγραφή των οποίων βρίσκεται στην τεκμηρίωση "DecimalFormat":https://unicode.org/reports/tr35/tr35-numbers.html#Number_Format_Patterns:

- `0` υποχρεωτικό ψηφίο, εμφανίζεται πάντα, ακόμα κι αν είναι μηδέν
- `#` προαιρετικό ψηφίο, εμφανίζεται μόνο εάν υπάρχει πραγματικά αριθμός σε αυτή τη θέση
- `@` σημαντικό ψηφίο, βοηθά στην εμφάνιση του αριθμού με έναν συγκεκριμένο αριθμό σημαντικών ψηφίων
- `.` υποδεικνύει πού πρέπει να είναι η υποδιαστολή (ή τελεία, ανάλογα με τη χώρα)
- `,` χρησιμοποιείται για τον διαχωρισμό ομάδων ψηφίων, συνηθέστερα χιλιάδων
- `%` πολλαπλασιάζει τον αριθμό επί 100× και προσθέτει το σύμβολο του ποσοστού

Ας δούμε μερικά παραδείγματα. Στο πρώτο παράδειγμα, δύο δεκαδικά ψηφία είναι υποχρεωτικά, στο δεύτερο προαιρετικά. Το τρίτο παράδειγμα δείχνει τη συμπλήρωση με μηδενικά από αριστερά και δεξιά, το τέταρτο εμφανίζει μόνο τα υπάρχοντα ψηφία:

```latte
{1234.5|number: '#,##0.00'}     {* 1,234.50 *}
{1234.5|number: '#,##0.##'}     {* 1,234.5 *}
{1.23  |number: '000.000'}      {* 001.230 *}
{1.2   |number: '##.##'}        {* 1.2 *}
```

Τα σημαντικά ψηφία καθορίζουν πόσα ψηφία, ανεξάρτητα από την υποδιαστολή, πρέπει να εμφανιστούν, με στρογγυλοποίηση:

```latte
{1234|number: '@@'}             {* 1200 *}
{1234|number: '@@@'}            {* 1230 *}
{1234|number: '@@@#'}           {* 1234 *}
{1.2345|number: '@@@'}          {* 1.23 *}
{0.00123|number: '@@'}          {* 0.0012 *}
```

Ένας εύκολος τρόπος για να εμφανίσετε έναν αριθμό ως ποσοστό. Ο αριθμός πολλαπλασιάζεται επί 100× και προστίθεται το σύμβολο `%`:

```latte
{0.1234|number: '#.##%'}        {* 12.34% *}
```

Μπορούμε να ορίσουμε διαφορετική μορφή για θετικούς και αρνητικούς αριθμούς, χωρίζονται με το σύμβολο `;`. Με αυτόν τον τρόπο, για παράδειγμα, μπορούμε να ορίσουμε ότι οι θετικοί αριθμοί πρέπει να εμφανίζονται με το σύμβολο `+`:

```latte
{42|number: '#.##;(#.##)'}      {* 42 *}
{-42|number: '#.##;(#.##)'}     {* (42) *}
{42|number: '+#.##;-#.##'}      {* +42 *}
{-42|number: '+#.##;-#.##'}     {* -42 *}
```

Να θυμάστε ότι η πραγματική εμφάνιση των αριθμών μπορεί να διαφέρει ανάλογα με τις ρυθμίσεις της χώρας. Για παράδειγμα, σε ορισμένες χώρες χρησιμοποιείται κόμμα αντί για τελεία ως διαχωριστής δεκαδικών. Αυτό το φίλτρο το λαμβάνει αυτόματα υπόψη και δεν χρειάζεται να ανησυχείτε για τίποτα.


padLeft(int $length, string $pad=' ') .[filter]
-----------------------------------------------
Συμπληρώνει ένα string σε ένα συγκεκριμένο μήκος με ένα άλλο string από τα αριστερά.

```latte
{='hello'|padLeft: 10, '123'}  {* εκτυπώνει '12312hello' *}
```


padRight(int $length, string $pad=' ') .[filter]
------------------------------------------------
Συμπληρώνει ένα string σε ένα συγκεκριμένο μήκος με ένα άλλο string από τα δεξιά.

```latte
{='hello'|padRight: 10, '123'}  {* εκτυπώνει 'hello12312' *}
```


query .[filter]
---------------
Δημιουργεί δυναμικά ένα query string σε ένα URL:

```latte
<a href="http://example.com/?{[name: 'John Doe', age: 43]|query}">κάντε κλικ</a>
<a href="http://example.com/?search={$search|query}">αναζήτηση</a>
```

Εκτυπώνει:

```latte
<a href="http://example.com/?name=John+Doe&amp;age=43">κάντε κλικ</a>
<a href="http://example.com/?search=Foo+Bar">αναζήτηση</a>
```

Τα κλειδιά με τιμή `null` παραλείπονται.

Δείτε επίσης [#escapeUrl].


random .[filter]
----------------
Επιστρέφει ένα τυχαίο στοιχείο ενός πίνακα ή έναν τυχαίο χαρακτήρα ενός string:

```latte
{=[1, 2, 3, 4]|random}    {* εκτυπώνει π.χ.: 3 *}
{='abcd'|random}          {* εκτυπώνει π.χ.: 'b' *}
```

Δείτε επίσης [#first], [#last].


repeat(int $count) .[filter]
----------------------------
Επαναλαμβάνει ένα string x φορές.

```latte
{='hello'|repeat: 3}  {* εκτυπώνει 'hellohellohello' *}
```


replace(string|array $search, string $replace='') .[filter]
-----------------------------------------------------------
Αντικαθιστά όλες τις εμφανίσεις του string αναζήτησης με το string αντικατάστασης.

```latte
{='hello world'|replace: 'world', 'friend'}  {* εκτυπώνει 'hello friend' *}
```

Μπορούν να γίνουν και πολλαπλές αντικαταστάσεις ταυτόχρονα:

```latte
{='hello world'|replace: [h => l, l => h]}  {* εκτυπώνει 'lehho worhd' *}
```


replaceRE(string $pattern, string $replace='') .[filter]
--------------------------------------------------------
Εκτελεί αναζήτηση με regular expressions με αντικατάσταση.

```latte
{='hello world'|replaceRE: '/l.*/', 'l'}  {* εκτυπώνει 'hel' *}
```


reverse .[filter]
-----------------
Αντιστρέφει το δεδομένο string ή πίνακα.

```latte
{var $s = 'Nette'}
{$s|reverse}    {* εκτυπώνει 'etteN' *}
{var $a = ['N', 'e', 't', 't', 'e']}
{$a|reverse}    {* επιστρέφει ['e', 't', 't', 'e', 'N'] *}
```


round(int $precision=0) .[filter]
---------------------------------
Στρογγυλοποιεί έναν αριθμό στην καθορισμένη ακρίβεια.

```latte
{=3.4|round}        {* εκτυπώνει 3      *}
{=3.5|round}        {* εκτυπώνει 4      *}
{=135.79|round:1}   {* εκτυπώνει 135.8  *}
{=135.79|round:3}   {* εκτυπώνει 135.79 *}
```

Δείτε επίσης [#ceil], [#floor].


slice(int $start, ?int $length=null, bool $preserveKeys=false) .[filter]
------------------------------------------------------------------------
Εξάγει ένα τμήμα ενός πίνακα ή ενός string.

```latte
{='hello'|slice: 1, 2}           {* εκτυπώνει 'el' *}
{=['a', 'b', 'c']|slice: 1, 2}   {* εκτυπώνει ['b', 'c'] *}
```

Το φίλτρο λειτουργεί όπως η συνάρτηση PHP `array_slice` για πίνακες ή `mb_substr` για strings με εναλλακτική λύση τη συνάρτηση `iconv_substr` σε λειτουργία UTF-8.

Εάν η αρχή είναι θετική, η ακολουθία θα ξεκινήσει μετατοπισμένη κατά αυτόν τον αριθμό από την αρχή του πίνακα/string. Εάν είναι αρνητική, η ακολουθία θα ξεκινήσει μετατοπισμένη κατά τόσο από το τέλος.

Εάν η παράμετρος length καθοριστεί και είναι θετική, η ακολουθία θα περιέχει τόσα στοιχεία. Εάν σε αυτή τη συνάρτηση περάσει μια αρνητική παράμετρος length, η ακολουθία θα περιέχει όλα τα στοιχεία του αρχικού πίνακα, ξεκινώντας από τη θέση start και τελειώνοντας στη θέση μικρότερη κατά length στοιχεία από το τέλος του πίνακα. Εάν δεν καθορίσετε αυτήν την παράμετρο, η ακολουθία θα περιέχει όλα τα στοιχεία του αρχικού πίνακα, ξεκινώντας από τη θέση start.

Από προεπιλογή, το φίλτρο αλλάζει τη σειρά και επαναφέρει τα ακέραια κλειδιά του πίνακα. Αυτή η συμπεριφορά μπορεί να αλλάξει ορίζοντας το preserveKeys σε true. Τα κλειδιά string διατηρούνται πάντα, ανεξάρτητα από αυτήν την παράμετρο.


sort(?Closure $comparison, string|int|\Closure|null $by=null, string|int|\Closure|bool $byKey=false) .[filter]
--------------------------------------------------------------------------------------------------------------
Το φίλτρο ταξινομεί τα στοιχεία ενός πίνακα ή ενός iterator και διατηρεί τα συσχετιστικά τους κλειδιά. Όταν ορίζονται [οι τοπικές ρυθμίσεις |develop#Locale], η ταξινόμηση διέπεται από τους κανόνες της, εκτός εάν καθοριστεί μια προσαρμοσμένη συνάρτηση σύγκρισης.

```latte
{foreach ($names|sort) as $name}
	...
{/foreach}
```

Ταξινομημένος πίνακας με αντίστροφη σειρά:

```latte
{foreach ($names|sort|reverse) as $name}
	...
{/foreach}
```

Μπορείτε να καθορίσετε μια προσαρμοσμένη συνάρτηση σύγκρισης για ταξινόμηση (το παράδειγμα δείχνει πώς να αντιστρέψετε την ταξινόμηση από το μεγαλύτερο στο μικρότερο):

```latte
{var $reverted = ($names|sort: fn($a, $b) => $b <=> $a)}
```

Το φίλτρο `|sort` επιτρέπει επίσης την ταξινόμηση στοιχείων με βάση τα κλειδιά:

```latte
{foreach ($names|sort: byKey: true) as $name}
	...
{/foreach}
```

Εάν πρέπει να ταξινομήσετε έναν πίνακα με βάση μια συγκεκριμένη στήλη, μπορείτε να χρησιμοποιήσετε την παράμετρο `by`. Η τιμή `'name'` στο παράδειγμα καθορίζει ότι η ταξινόμηση θα γίνει με βάση το `$item->name` ή το `$item['name']`, ανάλογα με το αν το `$item` είναι πίνακας ή αντικείμενο:

```latte
{foreach ($items|sort: by: 'name') as $item}
	{$item->name}
{/foreach}
```

Μπορείτε επίσης να ορίσετε μια συνάρτηση callback που καθορίζει την τιμή με βάση την οποία θα γίνει η ταξινόμηση:

```latte
{foreach ($items|sort: by: fn($item) => $item->category->name) as $item}
	{$item->name}
{/foreach}
```

Με τον ίδιο τρόπο μπορεί να χρησιμοποιηθεί και η παράμετρος `byKey`.


spaceless .[filter]
-------------------
Αφαιρεί το περιττό λευκό διάστημα (κενά) από την έξοδο. Μπορείτε επίσης να χρησιμοποιήσετε το ψευδώνυμο `strip`.

```latte
{block |spaceless}
	<ul>
		<li>Hello</li>
	</ul>
{/block}
```

Εκτυπώνει:

```latte
<ul> <li>Hello</li> </ul>
```


stripHtml .[filter]
-------------------
Μετατρέπει το HTML σε απλό κείμενο. Δηλαδή, αφαιρεί τα HTML tags και μετατρέπει τις οντότητες HTML σε κείμενο.

```latte
{='<p>one &lt; two</p>'|stripHtml}  {* εκτυπώνει 'one < two' *}
```

Το προκύπτον απλό κείμενο μπορεί φυσικά να περιέχει χαρακτήρες που αντιπροσωπεύουν HTML tags, για παράδειγμα, το `'&lt;p&gt;'|stripHtml` μετατρέπεται σε `<p>`. Σε καμία περίπτωση μην εκτυπώνετε το κείμενο που προκύπτει με αυτόν τον τρόπο με `|noescape`, καθώς αυτό μπορεί να οδηγήσει σε κενό ασφαλείας.


substr(int $offset, ?int $length=null) .[filter]
------------------------------------------------
Εξάγει ένα τμήμα ενός string. Αυτό το φίλτρο έχει αντικατασταθεί από το φίλτρο [#slice].

```latte
{$string|substr: 1, 2}
```


translate(...$args) .[filter]
-----------------------------
Μεταφράζει εκφράσεις σε άλλες γλώσσες. Για να είναι διαθέσιμο το φίλτρο, πρέπει να [ρυθμίσετε τον μεταφραστή |develop#TranslatorExtension]. Μπορείτε επίσης να χρησιμοποιήσετε [tags για μετάφραση |tags#Μεταφράσεις].

```latte
<a href="basket">{='Καλάθι'|translate}</a>
<span>{$item|translate}</span>
```


trim(string $charlist=" \t\n\r\0\x0B\u{A0}") .[filter]
------------------------------------------------------
Αφαιρεί τους κενούς χαρακτήρες (ή άλλους χαρακτήρες) από την αρχή και το τέλος ενός string.

```latte
{='  I like Latte.  '|trim}    {* εκτυπώνει 'I like Latte.' *}
{='  I like Latte.'|trim: '.'} {* εκτυπώνει '  I like Latte' *}
```


truncate(int $length, string $append='…') .[filter]
---------------------------------------------------
Περικόπτει ένα string στο καθορισμένο μέγιστο μήκος, προσπαθώντας να διατηρήσει ολόκληρες λέξεις. Εάν το string περικοπεί, προσθέτει στο τέλος τρεις τελείες (μπορεί να αλλάξει με τη δεύτερη παράμετρο).

```latte
{var $title = 'Hello, how are you?'}
{$title|truncate:5}  {* Hell…                *}
{$title|truncate:17} {* Hello, how are…      *}
{$title|truncate:30} {* Hello, how are you?  *}
```


upper .[filter]
---------------
Μετατρέπει ένα string σε κεφαλαία γράμματα. Απαιτεί την επέκταση PHP `mbstring`.

```latte
{='latte'|upper}  {* εκτυπώνει 'LATTE' *}
```

Δείτε επίσης [#capitalize], [#firstUpper], [#lower].


webalize .[filter]
------------------
Τροποποιεί ένα UTF-8 string στη μορφή που χρησιμοποιείται στα URL.

Μετατρέπεται σε ASCII. Μετατρέπει τα κενά σε παύλες. Αφαιρεί χαρακτήρες που δεν είναι αλφαριθμητικοί, κάτω παύλες ή παύλες. Μετατρέπει σε μικρά γράμματα. Επίσης, αφαιρεί τα αρχικά και τελικά κενά.

```latte
{var $s = 'Το 10ο προϊόν μας'}
{$s|webalize}   {* εκτυπώνει 'to-10o-proion-mas' *}
```

.[caution]
Απαιτεί τη βιβλιοθήκη [nette/utils|utils:].
