Invoice control - generátor faktur
********************

Tento plugin umožňuje vytvářet faktury na základě Nette šablony a použití knihovny [mPDF | http://mpdf.bpm1.com/].

|Verze | 0.3
|Download | [Invoice-control-v0.3.tar.gz | attachment:invoice-control-v0.3.tar.gz] (5,3 kB)
|Ukázka | [PDF | attachment:invoice.pdf]
|Forum thread | http://forum.nette.org/cs/1710-generator-faktur-nette-sablony-mpdf
|Autor | Ondřej Brejla
|Licence | New BSD License

Instalace
---------

Stáhněte archiv [Invoice.tar.gz | attachment:invoice-control-v0.3.tar.gz] a jeho obsah vložte do adresáře "app/controls". V archivu je soubor InvoicePresenter.php, v něm je ukázka použití kódu. Odstraňte ho z adresáře Invoice. Stáhněte [mPDF | http://mpdf.bpm1.com/download] a vložte ho do adresáře "libs" (Patrně budete muset zakázat indexování mPDF adresáře RobotLoaderem).

.[caution]
Nezapomeňte si stáhnout knihovnu [mPDF | http://mpdf.bpm1.com/download]

Příklad použití
---------------
Následující kód vložte kam potřebujete (Presenter:action).
/--php
        // Creating new Invoice
        $invoice = new InvoiceControl(date('YmdHis'), 'Faktura - daňový doklad č.');

        // Definition of miscellaneous attributes
        $invoice->setVariableSymbol('1234');

        // Definition of DateTimes
        $dateNow = new DateTime();
        $invoice->setDateOfIssuance($dateNow);
        $dateExp = new DateTime();
        $dateExp->modify('+14 days');
        $invoice->setExpirationDate($dateExp);
        $invoice->setDateOfTaxablePayment($dateNow);

        // Definition of Participants
        $supplier = new MyInvoiceParticipant('Jan Vosáhlo', 'Českobratrská', '11', 'Praha 3 - Žižkov', '13000', '12345678', 'CZ12345678', '123456789 / 1111');
        $customer = new MyInvoiceParticipant('Pepa Pivrnec', 'Někde', '3', 'Praha 9 - Prosek', '19000', '', '', '123456789 / 1111');
        $invoice->setSupplier($supplier);
        $invoice->setCustomer($customer);

        // Definition of Items
        $item = new MyInvoiceItem('Testovací item 1', 1, 900, 1.19, TRUE);
        $invoice->addItem($item);

        $invoice->addItems(array(
            new MyInvoiceItem('Testovací item 2', 1, 900, 1.19, TRUE),
            new MyInvoiceItem('Testovací item 3', 1, 900, 1.19, TRUE),
        ));

        // Definition of new mPDF
        // Set constant and include according to your directories!!
        define('_MPDF_PATH', LIBS_DIR . '/mpdf2_5/');
        include_once(LIBS_DIR . '/mpdf2_5/mpdf.php');
        //iso...don't know why...utf-8 didn't work
        $mpdf = new mPDF('iso-8859-2');

        // Exporting prepared Invoice to PDF
        $invoice->exportToPdf($mpdf);
\--


{{attachment: invoice-control-v0.3.tar.gz}}
{{attachment: invoice-control-v0.2.tar.gz}}
{{attachment: invoice.tar.gz}}

{{author: Ondřej Brejla|1672}}
