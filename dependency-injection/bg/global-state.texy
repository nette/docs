–ì–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏
*******************************

.[perex]
–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –°–ª–µ–¥–Ω–∏—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–∞ –ø—Ä–∏–∑–Ω–∞–∫ –Ω–∞ –ª–æ—à–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω –∫–æ–¥:

- `Foo::getInstance()`
- `DB::insert(...)`
- `Article::setDb($db)`
- `ClassName::$var` –∏–ª–∏ `static::$var`

–°—Ä–µ—â–∞—Ç –ª–∏ —Å–µ –Ω—è–∫–æ–∏ –æ—Ç —Ç–µ–∑–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ä–≤ –≤–∞—à–∏—è –∫–æ–¥? –¢–æ–≥–∞–≤–∞ –∏–º–∞—Ç–µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –¥–∞ –≥–æ –ø–æ–¥–æ–±—Ä–∏—Ç–µ. –ú–æ–∂–µ –±–∏ —Å–∏ –º–∏—Å–ª–∏—Ç–µ, —á–µ —Ç–æ–≤–∞ —Å–∞ –æ–±–∏—á–∞–π–Ω–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ–∏—Ç–æ –≤–∏–∂–¥–∞—Ç–µ –¥–æ—Ä–∏ –≤ –ø—Ä–∏–º–µ—Ä–Ω–∏ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ framework-–æ–≤–µ. –ê–∫–æ –µ —Ç–∞–∫–∞, —Ç–æ–≥–∞–≤–∞ –¥–∏–∑–∞–π–Ω—ä—Ç –Ω–∞ —Ç–µ—Ö–Ω–∏—è –∫–æ–¥ –Ω–µ –µ –¥–æ–±—ä—Ä.

–°–µ–≥–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –Ω–µ –≥–æ–≤–æ—Ä–∏–º –∑–∞ –Ω—è–∫–∞–∫–≤–∞ –∞–∫–∞–¥–µ–º–∏—á–Ω–∞ —á–∏—Å—Ç–æ—Ç–∞. –í—Å–∏—á–∫–∏ —Ç–µ–∑–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–º–∞—Ç –µ–¥–Ω–æ –æ–±—â–æ –Ω–µ—â–æ: —Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ. –ê —Ç–æ –∏–º–∞ —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª–µ–Ω –µ—Ñ–µ–∫—Ç –≤—ä—Ä—Ö—É –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –∫–æ–¥–∞. –ö–ª–∞—Å–æ–≤–µ—Ç–µ –ª—ä–∂–∞—Ç –∑–∞ —Å–≤–æ–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ö–æ–¥—ä—Ç —Å—Ç–∞–≤–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º. –û–±—ä—Ä–∫–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∏—Å—Ç–∏—Ç–µ –∏ –Ω–∞–º–∞–ª—è–≤–∞ —Ç—è—Ö–Ω–∞—Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç.

–í —Ç–∞–∑–∏ –≥–ª–∞–≤–∞ —â–µ –æ–±—è—Å–Ω–∏–º –∑–∞—â–æ –µ —Ç–∞–∫–∞ –∏ –∫–∞–∫ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.


–ì–ª–æ–±–∞–ª–Ω–∞ —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç
-------------------

–í –∏–¥–µ–∞–ª–Ω–∏—è —Å–≤—è—Ç –æ–±–µ–∫—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –¥–∞ –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞ —Å–∞–º–æ —Å –æ–±–µ–∫—Ç–∏, –∫–æ–∏—Ç–æ —Å–∞ –º—É –±–∏–ª–∏ [–¥–∏—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ–¥–∞–¥–µ–Ω–∏ |passing-dependencies]. –ê–∫–æ —Å—ä–∑–¥–∞–º –¥–≤–∞ –æ–±–µ–∫—Ç–∞ `A` –∏ `B` –∏ –Ω–∏–∫–æ–≥–∞ –Ω–µ –ø—Ä–µ–¥–∞–º —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –º–µ–∂–¥—É —Ç—è—Ö, —Ç–æ–≥–∞–≤–∞ –Ω–∏—Ç–æ `A`, –Ω–∏—Ç–æ `B` –º–æ–≥–∞—Ç –¥–∞ –¥–æ—Å—Ç–∏–≥–Ω–∞—Ç –¥–æ –¥—Ä—É–≥–∏—è –æ–±–µ–∫—Ç –∏–ª–∏ –¥–∞ –ø—Ä–æ–º–µ–Ω—è—Ç –Ω–µ–≥–æ–≤–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ. –¢–æ–≤–∞ –µ –º–Ω–æ–≥–æ –∂–µ–ª–∞–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –Ω–∞ –∫–æ–¥–∞. –ü–æ–¥–æ–±–Ω–æ –µ –Ω–∞ —Ç–æ–≤–∞ –¥–∞ –∏–º–∞—Ç–µ –±–∞—Ç–µ—Ä–∏—è –∏ –∫—Ä—É—à–∫–∞; –∫—Ä—É—à–∫–∞—Ç–∞ –Ω—è–º–∞ –¥–∞ —Å–≤–µ—Ç–∏, –¥–æ–∫–∞—Ç–æ –Ω–µ —è —Å–≤—ä—Ä–∂–µ—Ç–µ —Å –±–∞—Ç–µ—Ä–∏—è—Ç–∞ —Å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫.

–ù–æ —Ç–æ–≤–∞ –Ω–µ –≤–∞–∂–∏ –∑–∞ –≥–ª–æ–±–∞–ª–Ω–∏ (—Å—Ç–∞—Ç–∏—á–Ω–∏) –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∏–ª–∏ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏. –û–±–µ–∫—Ç `A` –º–æ–∂–µ *–±–µ–∑–∂–∏—á–Ω–æ* –¥–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ –¥–æ –æ–±–µ–∫—Ç `C` –∏ –¥–∞ –≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞ –±–µ–∑ –Ω–∏–∫–∞–∫–≤–æ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è, –∫–∞—Ç–æ –∏–∑–≤–∏–∫–∞ `C::changeSomething()`. –ê–∫–æ –æ–±–µ–∫—Ç `B` —Å—ä—â–æ —Å–µ –≤—ä–∑–ø–æ–ª–∑–≤–∞ –æ—Ç –≥–ª–æ–±–∞–ª–Ω–∏—è `C`, —Ç–æ–≥–∞–≤–∞ `A` –∏ `B` –º–æ–≥–∞—Ç –¥–∞ —Å–∏ –≤–ª–∏—è—è—Ç –≤–∑–∞–∏–º–Ω–æ —á—Ä–µ–∑ `C`.

–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –≥–ª–æ–±–∞–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –≤—ä–≤–µ–∂–¥–∞ –Ω–æ–≤–∞ —Ñ–æ—Ä–º–∞ –Ω–∞ *–±–µ–∑–∂–∏—á–Ω–∞* —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞, –∫–æ—è—Ç–æ –Ω–µ —Å–µ –≤–∏–∂–¥–∞ –æ—Ç–≤—ä–Ω. –°—ä–∑–¥–∞–≤–∞ –¥–∏–º–Ω–∞ –∑–∞–≤–µ—Å–∞, —É—Å–ª–æ–∂–Ω—è–≤–∞—â–∞ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ—Ç–æ –∏ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–¥–∞. –ó–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–∞—Ç –Ω–∞–∏—Å—Ç–∏–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ—á–µ—Ç–∞—Ç –≤—Å–µ–∫–∏ —Ä–µ–¥ –æ—Ç –∏–∑—Ö–æ–¥–Ω–∏—è –∫–æ–¥. –í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–∞ —Å–µ –∑–∞–ø–æ–∑–Ω–∞—è—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏—Ç–µ –Ω–∞ –∫–ª–∞—Å–æ–≤–µ—Ç–µ. –û—Å–≤–µ–Ω —Ç–æ–≤–∞ —Å—Ç–∞–≤–∞ –¥—É–º–∞ –∑–∞ –Ω–∞–ø—ä–ª–Ω–æ –Ω–µ–Ω—É–∂–Ω–∞ —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç. –ì–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞, –∑–∞—â–æ—Ç–æ –µ –ª–µ—Å–Ω–æ –¥–æ—Å—Ç—ä–ø–Ω–æ –æ—Ç–≤—Å—è–∫—ä–¥–µ –∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ —á—Ä–µ–∑ –≥–ª–æ–±–∞–ª–µ–Ω (—Å—Ç–∞—Ç–∏—á–µ–Ω) –º–µ—Ç–æ–¥ `DB::insert()`. –ù–æ –∫–∞–∫—Ç–æ —â–µ –ø–æ–∫–∞–∂–µ–º, –ø—Ä–µ–¥–∏–º—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ –Ω–æ—Å–∏, –µ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ, –¥–æ–∫–∞—Ç–æ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è—Ç–∞, –∫–æ–∏—Ç–æ –ø—Ä–∏—á–∏–Ω—è–≤–∞, —Å–∞ —Ñ–∞—Ç–∞–ª–Ω–∏.

.[note]
–û—Ç –≥–ª–µ–¥–Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω—è–º–∞ —Ä–∞–∑–ª–∏–∫–∞ –º–µ–∂–¥—É –≥–ª–æ–±–∞–ª–Ω–∞ –∏ —Å—Ç–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞. –¢–µ —Å–∞ –µ–¥–Ω–∞–∫–≤–æ –≤—Ä–µ–¥–Ω–∏.


–ü—Ä–∏–∑—Ä–∞—á–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ
--------------------------------

"–ü—Ä–∏–∑—Ä–∞—á–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ" - —Ç–∞–∫–∞ –ê–ª–±–µ—Ä—Ç –ê–π–Ω—â–∞–π–Ω –Ω–∞—Ä–∏—á–∞ –ø—Ä–µ–∑ 1935 –≥. —è–≤–ª–µ–Ω–∏–µ –≤ –∫–≤–∞–Ω—Ç–æ–≤–∞—Ç–∞ —Ñ–∏–∑–∏–∫–∞, –∫–æ–µ—Ç–æ –≥–æ –∫–∞—Ä–∞ –¥–∞ –Ω–∞—Å—Ç—Ä—ä—Ö–Ω–µ.
–°—Ç–∞–≤–∞ –¥—É–º–∞ –∑–∞ –∫–≤–∞–Ω—Ç–æ–≤–æ –∑–∞–ø–ª–∏—Ç–∞–Ω–µ, —á–∏—è—Ç–æ –æ—Å–æ–±–µ–Ω–æ—Å—Ç –µ, —á–µ –∫–æ–≥–∞—Ç–æ –∏–∑–º–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –µ–¥–Ω–∞ —á–∞—Å—Ç–∏—Ü–∞, –≤–µ–¥–Ω–∞–≥–∞ –ø–æ–≤–ª–∏—è–≤–∞—Ç–µ –Ω–∞ –¥—Ä—É–≥–∞—Ç–∞ —á–∞—Å—Ç–∏—Ü–∞, –¥–æ—Ä–∏ –∞–∫–æ —Ç–µ —Å–∞ –Ω–∞ –º–∏–ª–∏–æ–Ω–∏ —Å–≤–µ—Ç–ª–∏–Ω–Ω–∏ –≥–æ–¥–∏–Ω–∏ –µ–¥–Ω–∞ –æ—Ç –¥—Ä—É–≥–∞. –ö–æ–µ—Ç–æ –ø—Ä–∏–≤–∏–¥–Ω–æ –Ω–∞—Ä—É—à–∞–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—è –∑–∞–∫–æ–Ω –Ω–∞ –í—Å–µ–ª–µ–Ω–∞—Ç–∞, —á–µ –Ω–∏—â–æ –Ω–µ –º–æ–∂–µ –¥–∞ —Å–µ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–≤–∞ –ø–æ-–±—ä—Ä–∑–æ –æ—Ç —Å–≤–µ—Ç–ª–∏–Ω–∞—Ç–∞.

–í —Å–≤–µ—Ç–∞ –Ω–∞ —Å–æ—Ñ—Ç—É–µ—Ä–∞ –º–æ–∂–µ–º –¥–∞ –Ω–∞—Ä–µ—á–µ–º "–ø—Ä–∏–∑—Ä–∞—á–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ" —Å–∏—Ç—É–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—è—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ –Ω—è–∫–∞–∫—ä–≤ –ø—Ä–æ—Ü–µ—Å, –∑–∞ –∫–æ–π—Ç–æ —Å–º—è—Ç–∞–º–µ, —á–µ –µ –∏–∑–æ–ª–∏—Ä–∞–Ω (–∑–∞—â–æ—Ç–æ –Ω–µ —Å–º–µ –º—É –ø—Ä–µ–¥–∞–ª–∏ –Ω–∏–∫–∞–∫–≤–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏), –Ω–æ –Ω–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–∏ –º–µ—Å—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –≤—ä–∑–Ω–∏–∫–≤–∞—Ç –Ω–µ–æ—á–∞–∫–≤–∞–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ, –∑–∞ –∫–æ–∏—Ç–æ –Ω–µ —Å–º–µ –ø–æ–¥–æ–∑–∏—Ä–∞–ª–∏. –¢–æ–≤–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Å–ª—É—á–∏ —Å–∞–º–æ —á—Ä–µ–∑ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.

–ü—Ä–µ–¥—Å—Ç–∞–≤–µ—Ç–µ —Å–∏, —á–µ —Å–µ –ø—Ä–∏—Å—ä–µ–¥–∏–Ω—è–≤–∞—Ç–µ –∫—ä–º –µ–∫–∏–ø –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç, –∫–æ–π—Ç–æ –∏–º–∞ –≥–æ–ª—è–º–∞, –∑—Ä—è–ª–∞ –∫–æ–¥–æ–≤–∞ –±–∞–∑–∞. –ù–æ–≤–∏—è—Ç –≤–∏ —Ä—ä–∫–æ–≤–æ–¥–∏—Ç–µ–ª –≤–∏ –º–æ–ª–∏ –¥–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞—Ç–µ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏ –≤–∏–µ, –∫–∞—Ç–æ –¥–æ–±—ä—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∑–∞–ø–æ—á–≤–∞—Ç–µ —Å –ø–∏—Å–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç. –ù–æ —Ç—ä–π –∫–∞—Ç–æ —Å—Ç–µ –Ω–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–∞–≤–∏—Ç–µ –º–Ω–æ–≥–æ –ø—Ä–æ—É—á–≤–∞—Ç–µ–ª–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ –æ—Ç —Ç–∏–ø–∞ "–∫–∞–∫–≤–æ —â–µ —Å–µ —Å–ª—É—á–∏, –∞–∫–æ –∏–∑–≤–∏–∫–∞–º —Ç–æ–∑–∏ –º–µ—Ç–æ–¥". –ò –æ–ø–∏—Ç–≤–∞—Ç–µ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è —Ç–µ—Å—Ç:

```php
function testCreditCardCharge()
{
	$cc = new CreditCard('1234567890123456', 5, 2028); // –Ω–æ–º–µ—Ä –Ω–∞ –≤–∞—à–∞—Ç–∞ –∫–∞—Ä—Ç–∞
	$cc->charge(100);
}
```

–ò–∑–ø—ä–ª–Ω—è–≤–∞—Ç–µ –∫–æ–¥–∞, –º–æ–∂–µ –±–∏ –Ω—è–∫–æ–ª–∫–æ –ø—ä—Ç–∏, –∏ —Å–ª–µ–¥ –∏–∑–≤–µ—Å—Ç–Ω–æ –≤—Ä–µ–º–µ –∑–∞–±–µ–ª—è–∑–≤–∞—Ç–µ –∏–∑–≤–µ—Å—Ç–∏—è –æ—Ç –±–∞–Ω–∫–∞—Ç–∞ –Ω–∞ –º–æ–±–∏–ª–Ω–∏—è —Å–∏ —Ç–µ–ª–µ—Ñ–æ–Ω, —á–µ –ø—Ä–∏ –≤—Å—è–∫–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ —Å–∞ –±–∏–ª–∏ –∏–∑—Ç–µ–≥–ª–µ–Ω–∏ 100 –¥–æ–ª–∞—Ä–∞ –æ—Ç –≤–∞—à–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∞ ü§¶‚Äç‚ôÇÔ∏è

–ö–∞–∫, –∑–∞ –±–æ–≥–∞, —Ç–µ—Å—Ç—ä—Ç –º–æ–∂–µ –¥–∞ –µ –ø—Ä–∏—á–∏–Ω–∏–ª —Ä–µ–∞–ª–Ω–æ —Ç–µ–≥–ª–µ–Ω–µ –Ω–∞ –ø–∞—Ä–∏? –†–∞–±–æ—Ç–∞—Ç–∞ —Å –∫—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∞ –Ω–µ –µ –ª–µ—Å–Ω–∞. –¢—Ä—è–±–≤–∞ –¥–∞ –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞—Ç–µ —Å —É–µ–± —É—Å–ª—É–≥–∞ –Ω–∞ —Ç—Ä–µ—Ç–∞ —Å—Ç—Ä–∞–Ω–∞, —Ç—Ä—è–±–≤–∞ –¥–∞ –∑–Ω–∞–µ—Ç–µ URL –∞–¥—Ä–µ—Å–∞ –Ω–∞ —Ç–∞–∑–∏ —É–µ–± —É—Å–ª—É–≥–∞, —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–ª–µ–∑–µ—Ç–µ –∏ —Ç.–Ω. –ù–∏—Ç–æ –µ–¥–Ω–∞ –æ—Ç —Ç–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –≤ —Ç–µ—Å—Ç–∞. –û—â–µ –ø–æ-–ª–æ—à–æ, –¥–æ—Ä–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –∫—ä–¥–µ —Å–µ –Ω–∞–º–∏—Ä–∞ —Ç–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ –∫–∞–∫ –¥–∞ mock-–Ω–µ—Ç–µ –≤—ä–Ω—à–Ω–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Ç–∞–∫–∞ —á–µ –≤—Å—è–∫–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –¥–∞ –Ω–µ –≤–æ–¥–∏ –¥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ç–µ–≥–ª–µ–Ω–µ –Ω–∞ 100 –¥–æ–ª–∞—Ä–∞. –ò –∫–∞–∫ –≤–∏–µ, –∫–∞—Ç–æ –Ω–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Ç—Ä—è–±–≤–∞—à–µ –¥–∞ –∑–Ω–∞–µ—Ç–µ, —á–µ —Ç–æ–≤–∞, –∫–æ–µ—Ç–æ —Å–µ –∫–∞–Ω–∏—Ç–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ, —â–µ –¥–æ–≤–µ–¥–µ –¥–æ —Ç–æ–≤–∞ –¥–∞ —Å—Ç–µ —Å 100 –¥–æ–ª–∞—Ä–∞ –ø–æ-–±–µ–¥–µ–Ω?

–¢–æ–≤–∞ –µ –ø—Ä–∏–∑—Ä–∞—á–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ!

–ù–µ –≤–∏ –æ—Å—Ç–∞–≤–∞ –Ω–∏—â–æ –¥—Ä—É–≥–æ, –æ—Å–≤–µ–Ω –¥—ä–ª–≥–æ –¥–∞ —Ä–æ–≤–∏—Ç–µ –≤ –º–Ω–æ–≥–æ –∏–∑—Ö–æ–¥–Ω–∏ –∫–æ–¥–æ–≤–µ, –¥–∞ –ø–∏—Ç–∞—Ç–µ –ø–æ-—Å—Ç–∞—Ä–∏ –∏ –ø–æ-–æ–ø–∏—Ç–Ω–∏ –∫–æ–ª–µ–≥–∏, –¥–æ–∫–∞—Ç–æ —Ä–∞–∑–±–µ—Ä–µ—Ç–µ –∫–∞–∫ —Ä–∞–±–æ—Ç—è—Ç –≤—Ä—ä–∑–∫–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç–∞. –¢–æ–≤–∞ —Å–µ –¥—ä–ª–∂–∏ –Ω–∞ —Ñ–∞–∫—Ç–∞, —á–µ –ø—Ä–∏ —Ä–∞–∑–≥–ª–µ–∂–¥–∞–Ω–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –∫–ª–∞—Å–∞ `CreditCard` –Ω–µ –º–æ–∂–µ –¥–∞ —Å–µ —É—Å—Ç–∞–Ω–æ–≤–∏ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞. –î–æ—Ä–∏ –ø–æ–≥–ª–µ–¥ –∫—ä–º –∏–∑—Ö–æ–¥–Ω–∏—è –∫–æ–¥ –Ω–∞ –∫–ª–∞—Å–∞ –Ω—è–º–∞ –¥–∞ –≤–∏ –∫–∞–∂–µ –∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–µ–Ω –º–µ—Ç–æ–¥ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–∏–∫–∞—Ç–µ. –í –Ω–∞–π-–¥–æ–±—Ä–∏—è —Å–ª—É—á–∞–π –º–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –≥–ª–æ–±–∞–ª–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞, –¥–æ –∫–æ—è—Ç–æ —Å–µ –æ—Å—ä—â–µ—Å—Ç–≤—è–≤–∞ –¥–æ—Å—Ç—ä–ø, –∏ –æ—Ç –Ω–µ—è –¥–∞ —Å–µ –æ–ø–∏—Ç–∞—Ç–µ –¥–∞ –æ—Ç–≥–∞—Ç–Ω–µ—Ç–µ –∫–∞–∫ –¥–∞ —è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞—Ç–µ.

–ö–ª–∞—Å–æ–≤–µ—Ç–µ –≤ —Ç–∞–∫—ä–≤ –ø—Ä–æ–µ–∫—Ç —Å–∞ –ø–∞—Ç–æ–ª–æ–≥–∏—á–Ω–∏ –ª—ä–∂—Ü–∏. –ö—Ä–µ–¥–∏—Ç–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∞ —Å–µ –ø—Ä–µ—Å—Ç—Ä—É–≤–∞, —á–µ –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –¥–∞ —è –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–∞—Ç–µ –∏ –¥–∞ –∏–∑–≤–∏–∫–∞—Ç–µ –º–µ—Ç–æ–¥–∞ `charge()`. –ù–æ —Ç–∞–π–Ω–æ —Ç—è —Å–∏ —Å—ä—Ç—Ä—É–¥–Ω–∏—á–∏ —Å –¥—Ä—É–≥ –∫–ª–∞—Å `PaymentGateway`, –∫–æ–π—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –ø–ª–∞—Ç–µ–∂–µ–Ω –ø–æ—Ä—Ç–∞–ª. –ù–µ–≥–æ–≤–∏—è—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—ä—â–æ –∫–∞–∑–≤–∞, —á–µ –º–æ–∂–µ –¥–∞ —Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª–Ω–æ, –Ω–æ –≤—Å—ä—â–Ω–æ—Å—Ç –∏–∑–≤–ª–∏—á–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç –Ω—è–∫–∞–∫—ä–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª –∏ —Ç.–Ω. –ó–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å–∞ –Ω–∞–ø–∏—Å–∞–ª–∏ —Ç–æ–∑–∏ –∫–æ–¥, –µ —è—Å–Ω–æ, —á–µ `CreditCard` —Å–µ –Ω—É–∂–¥–∞–µ –æ—Ç `PaymentGateway`. –¢–µ —Å–∞ –Ω–∞–ø–∏—Å–∞–ª–∏ –∫–æ–¥–∞ –ø–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω. –ù–æ –∑–∞ –≤—Å–µ–∫–∏ –Ω–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–∞ —Ç–æ–≤–∞ –µ –ø—ä–ª–Ω–∞ –∑–∞–≥–∞–¥–∫–∞ –∏ –ø—Ä–µ—á–∏ –Ω–∞ —É—á–µ–Ω–µ—Ç–æ.

–ö–∞–∫ –¥–∞ –ø–æ–ø—Ä–∞–≤–∏–º —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞? –õ–µ—Å–Ω–æ. **–ù–µ–∫–∞ API –¥–µ–∫–ª–∞—Ä–∏—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ.**

```php
function testCreditCardCharge()
{
	$gateway = new PaymentGateway(/* ... */);
	$cc = new CreditCard('1234567890123456', 5, 2028);
	$cc->charge($gateway, 100);
}
```

–ó–∞–±–µ–ª–µ–∂–µ—Ç–µ –∫–∞–∫ –∏–∑–≤–µ–¥–Ω—ä–∂ –≤–∑–∞–∏–º–æ–≤—Ä—ä–∑–∫–∏—Ç–µ –≤ –∫–æ–¥–∞ —Å—Ç–∞–≤–∞—Ç –æ—á–µ–≤–∏–¥–Ω–∏. –¢—ä–π –∫–∞—Ç–æ –º–µ—Ç–æ–¥—ä—Ç `charge()` –¥–µ–∫–ª–∞—Ä–∏—Ä–∞, —á–µ —Å–µ –Ω—É–∂–¥–∞–µ –æ—Ç `PaymentGateway`, –Ω–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –ø–∏—Ç–∞—Ç–µ –Ω–∏–∫–æ–≥–æ –∫–∞–∫ –µ —Å–≤—ä—Ä–∑–∞–Ω –∫–æ–¥—ä—Ç. –ó–Ω–∞–µ—Ç–µ, —á–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ –Ω–µ–≥–æ–≤–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –∏ –∫–æ–≥–∞—Ç–æ —Å–µ –æ–ø–∏—Ç–∞—Ç–µ –¥–∞ –≥–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ, —â–µ –æ—Ç–∫—Ä–∏–µ—Ç–µ, —á–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞ –¥–æ—Å—Ç—ä–ø. –ë–µ–∑ —Ç—è—Ö –∫–æ–¥—ä—Ç –¥–æ—Ä–∏ –Ω–µ –±–∏ –º–æ–≥—ä–ª –¥–∞ —Å–µ –∏–∑–ø—ä–ª–Ω–∏.

–ò –Ω–∞–π-–≤–∞–∂–Ω–æ—Ç–æ, —Å–µ–≥–∞ –º–æ–∂–µ—Ç–µ –¥–∞ mock-–Ω–µ—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω–∏—è –ø–æ—Ä—Ç–∞–ª, —Ç–∞–∫–∞ —á–µ –Ω—è–º–∞ –¥–∞ –≤–∏ –±—ä–¥–∞—Ç —Ç–∞–∫—Å—É–≤–∞–Ω–∏ 100 –¥–æ–ª–∞—Ä–∞ –≤—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ —Ç–µ—Å—Ç–∞.

–ì–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä–∞ –≤–∞—à–∏—Ç–µ –æ–±–µ–∫—Ç–∏ –¥–∞ –∏–º–∞—Ç —Ç–∞–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –Ω–µ—â–∞, –∫–æ–∏—Ç–æ –Ω–µ —Å–∞ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞–Ω–∏ –≤ —Ç–µ—Ö–Ω–∏—Ç–µ API, –∏ –≤ —Ä–µ–∑—É–ª—Ç–∞—Ç –Ω–∞ —Ç–æ–≤–∞ –ø—Ä–µ–≤—Ä—ä—â–∞ –≤–∞—à–∏—Ç–µ API –≤ –ø–∞—Ç–æ–ª–æ–≥–∏—á–Ω–∏ –ª—ä–∂—Ü–∏.

–ú–æ–∂–µ –±–∏ –Ω–µ —Å—Ç–µ –º–∏—Å–ª–∏–ª–∏ –∑–∞ —Ç–æ–≤–∞ –ø–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω –ø—Ä–µ–¥–∏, –Ω–æ –≤—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, —Å—ä–∑–¥–∞–≤–∞—Ç–µ —Ç–∞–π–Ω–∏ –±–µ–∑–∂–∏—á–Ω–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –∫–∞–Ω–∞–ª–∏. –ü—Ä–∏–∑—Ä–∞—á–Ω–æ—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–Ω—É–∂–¥–∞–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏—Ç–µ –¥–∞ —á–µ—Ç–∞—Ç –≤—Å–µ–∫–∏ —Ä–µ–¥ –∫–æ–¥, –∑–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–∞—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–º–∞–ª—è–≤–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏—Ç–µ –∏ –æ–±—ä—Ä–∫–≤–∞ –Ω–æ–≤–∏—Ç–µ —á–ª–µ–Ω–æ–≤–µ –Ω–∞ –µ–∫–∏–ø–∞. –ê–∫–æ –≤–∏–µ —Å—Ç–µ —Ç–æ–∑–∏, –∫–æ–π—Ç–æ –µ —Å—ä–∑–¥–∞–ª –∫–æ–¥–∞, –ø–æ–∑–Ω–∞–≤–∞—Ç–µ –∏—Å—Ç–∏–Ω—Å–∫–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –Ω–æ –≤—Å–µ–∫–∏, –∫–æ–π—Ç–æ –¥–æ–π–¥–µ —Å–ª–µ–¥ –≤–∞—Å, –µ –±–µ–∑–ø–æ–º–æ—â–µ–Ω.

–ù–µ –ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –¢–æ–µ—Å—Ç dependency injection.


–ö—Ä–µ—Ö–∫–æ—Å—Ç –Ω–∞ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
--------------------------------

–í –∫–æ–¥, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏, –Ω–∏–∫–æ–≥–∞ –Ω–µ –µ —Å–∏–≥—É—Ä–Ω–æ –∫–æ–≥–∞ –∏ –∫–æ–π –µ –ø—Ä–æ–º–µ–Ω–∏–ª —Ç–æ–≤–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ. –¢–æ–∑–∏ —Ä–∏—Å–∫ —Å–µ –ø–æ—è–≤—è–≤–∞ –æ—â–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞. –°–ª–µ–¥–Ω–∏—è—Ç –∫–æ–¥ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏ –¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –ø–ª–∞—Ç–µ–∂–µ–Ω –ø–æ—Ä—Ç–∞–ª, –Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ö–≤—ä—Ä–ª—è –∏–∑–∫–ª—é—á–µ–Ω–∏–µ –∏ –Ω–∞–º–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –ø—Ä–∏—á–∏–Ω–∞—Ç–∞ –µ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –¥–æ—Å–∞–¥–Ω–æ:

```php
PaymentGateway::init();
DB::init('mysql:', 'user', 'password');
```

–¢—Ä—è–±–≤–∞ –ø–æ–¥—Ä–æ–±–Ω–æ –¥–∞ –ø—Ä–µ–≥–ª–µ–¥–∞—Ç–µ –∫–æ–¥–∞, –∑–∞ –¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, —á–µ –æ–±–µ–∫—Ç—ä—Ç `PaymentGateway` –æ—Å—ä—â–µ—Å—Ç–≤—è–≤–∞ –±–µ–∑–∂–∏—á–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –¥—Ä—É–≥–∏ –æ–±–µ–∫—Ç–∏, –Ω—è–∫–æ–∏ –æ—Ç –∫–æ–∏—Ç–æ –∏–∑–∏—Å–∫–≤–∞—Ç –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞ –¥–∞–Ω–Ω–∏. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞ —Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –ø—Ä–µ–¥–∏ `PaymentGateway`. –í—ä–ø—Ä–µ–∫–∏ —Ç–æ–≤–∞, –¥–∏–º–Ω–∞—Ç–∞ –∑–∞–≤–µ—Å–∞ –Ω–∞ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ —Å–∫—Ä–∏–≤–∞ —Ç–æ–≤–∞ –æ—Ç –≤–∞—Å. –ö–æ–ª–∫–æ –≤—Ä–µ–º–µ –±–∏—Ö—Ç–µ —Å–ø–µ—Å—Ç–∏–ª–∏, –∞–∫–æ API-—Ç–∞—Ç–∞ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏—Ç–µ –∫–ª–∞—Å–æ–≤–µ –Ω–µ –ª—ä–∂–µ—Ö–∞ –∏ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞—Ö–∞ —Å–≤–æ–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?

```php
$db = new DB('mysql:', 'user', 'password');
$gateway = new PaymentGateway($db, ...);
```

–ü–æ–¥–æ–±–µ–Ω –ø—Ä–æ–±–ª–µ–º –≤—ä–∑–Ω–∏–∫–≤–∞ –∏ –ø—Ä–∏ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –≥–ª–æ–±–∞–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏:

```php
use Illuminate\Support\Facades\DB;

class Article
{
	public function save(): void
	{
		DB::insert(/* ... */);
	}
}
```

–ü—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–µ—Ç–æ–¥–∞ `save()` –Ω–µ –µ —Å–∏–≥—É—Ä–Ω–æ –¥–∞–ª–∏ –≤–µ—á–µ –µ —Å—ä–∑–¥–∞–¥–µ–Ω–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –∏ –∫–æ–π –Ω–æ—Å–∏ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –Ω–µ–π–Ω–æ—Ç–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ. –ê–∫–æ –∏—Å–∫–∞–º–µ –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–∞ –ø—Ä–æ–º–µ–Ω—è–º–µ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞ —Ç–µ—Å—Ç–æ–≤–µ, –≤–µ—Ä–æ—è—Ç–Ω–æ —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –º–µ—Ç–æ–¥–∏ –∫–∞—Ç–æ `DB::reconnect(...)` –∏–ª–∏ `DB::reconnectForTest()`.

–î–∞ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ –ø—Ä–∏–º–µ—Ä:

```php
$article = new Article;
// ...
DB::reconnectForTest();
Foo::doSomething();
$article->save();
```

–ö—ä–¥–µ –∏–º–∞–º–µ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, —á–µ –ø—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ `$article->save()` –Ω–∞–∏—Å—Ç–∏–Ω–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Ç–µ—Å—Ç–æ–≤–∞—Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏? –ê–º–∏ –∞–∫–æ –º–µ—Ç–æ–¥—ä—Ç `Foo::doSomething()` –µ –ø—Ä–æ–º–µ–Ω–∏–ª –≥–ª–æ–±–∞–ª–Ω–∞—Ç–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏? –ó–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ–º, —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ—É—á–∏–º –∏–∑—Ö–æ–¥–Ω–∏—è –∫–æ–¥ –Ω–∞ –∫–ª–∞—Å–∞ `Foo` –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–∞ –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏ –∫–ª–∞—Å–æ–≤–µ. –¢–æ–∑–∏ –ø–æ–¥—Ö–æ–¥ –æ–±–∞—á–µ –±–∏ –¥–æ–Ω–µ—Å—ä–ª —Å–∞–º–æ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä, —Ç—ä–π –∫–∞—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞ –º–æ–∂–µ –¥–∞ —Å–µ –ø—Ä–æ–º–µ–Ω–∏ –≤ –±—ä–¥–µ—â–µ.

–ê–º–∏ –∞–∫–æ –ø—Ä–µ–º–µ—Å—Ç–∏–º –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –≤ —Å—Ç–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –≤—ä—Ç—Ä–µ –≤ –∫–ª–∞—Å–∞ `Article`?

```php
class Article
{
	private static DB $db;

	public static function setDb(DB $db): void
	{
		self::$db = $db;
	}

	public function save(): void
	{
		self::$db->insert(/* ... */);
	}
}
```

–° —Ç–æ–≤–∞ –Ω–∏—â–æ –Ω–µ —Å–µ –ø—Ä–æ–º–µ–Ω–∏. –ü—Ä–æ–±–ª–µ–º—ä—Ç –µ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏ –Ω—è–º–∞ –Ω–∏–∫–∞–∫–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–π –∫–ª–∞—Å —Å–µ –∫—Ä–∏–µ. –í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π, –∫–∞–∫—Ç–æ –∏ –≤ –ø—Ä–µ–¥–∏—à–Ω–∏—è, –ø—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–µ—Ç–æ–¥–∞ `$article->save()` –Ω—è–º–∞–º–µ –Ω–∏–∫–∞–∫–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∞ –≤ –∫–æ—è –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ —â–µ —Å–µ –∑–∞–ø–∏—à–µ. –í—Å–µ–∫–∏ –æ—Ç –¥—Ä—É–≥–∏—è –∫—Ä–∞–π –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –º–æ–∂–µ –ø–æ –≤—Å—è–∫–æ –≤—Ä–µ–º–µ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ `Article::setDb()`. –ü–æ–¥ –Ω–æ—Å–∞ –Ω–∏.

–ì–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∞–≤–∏ –Ω–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –∫—Ä–µ—Ö–∫–æ**.

–°—ä—â–µ—Å—Ç–≤—É–≤–∞ –æ–±–∞—á–µ –ø—Ä–æ—Å—Ç –Ω–∞—á–∏–Ω –∑–∞ —Å–ø—Ä–∞–≤—è–Ω–µ —Å —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º. –î–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –µ –¥–∞ –æ—Å—Ç–∞–≤–∏–º API –¥–∞ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ, –∫–æ–µ—Ç–æ —â–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.

```php
class Article
{
	public function __construct(
		private DB $db,
	) {
	}

	public function save(): void
	{
		$this->db->insert(/* ... */);
	}
}

$article = new Article($db);
// ...
Foo::doSomething();
$article->save();
```

–ë–ª–∞–≥–æ–¥–∞—Ä–µ–Ω–∏–µ –Ω–∞ —Ç–æ–∑–∏ –ø–æ–¥—Ö–æ–¥ –æ—Ç–ø–∞–¥–∞ –ø—Ä–∏—Ç–µ—Å–Ω–µ–Ω–∏–µ—Ç–æ –∑–∞ —Å–∫—Ä–∏—Ç–∏ –∏ –Ω–µ–æ—á–∞–∫–≤–∞–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤—ä–≤ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏. –°–µ–≥–∞ –∏–º–∞–º–µ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∫—ä–¥–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ —Å—Ç–∞—Ç–∏—è—Ç–∞ –∏ –Ω–∏–∫–∞–∫–≤–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞ –≤ –¥—Ä—É–≥ –Ω–µ—Å–≤—ä—Ä–∑–∞–Ω –∫–ª–∞—Å –≤–µ—á–µ –Ω–µ –º–æ–≥–∞—Ç –¥–∞ –ø—Ä–æ–º–µ–Ω—è—Ç —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞. –ö–æ–¥—ä—Ç –≤–µ—á–µ –Ω–µ –µ –∫—Ä–µ—Ö—ä–∫, –∞ —Å—Ç–∞–±–∏–ª–µ–Ω.

–ù–µ –ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –¢–æ–µ—Å—Ç dependency injection.


Singleton
---------

Singleton –µ –¥–∏–∑–∞–π–Ω –ø–∞—Ç—ä—Ä–Ω, –∫–æ–π—Ç–æ —Å–ø–æ—Ä–µ–¥ "–¥–µ—Ñ–∏–Ω–∏—Ü–∏—è—Ç–∞":https://en.wikipedia.org/wiki/Singleton_pattern –æ—Ç –∏–∑–≤–µ—Å—Ç–Ω–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ Gang of Four –æ–≥—Ä–∞–Ω–∏—á–∞–≤–∞ –∫–ª–∞—Å–∞ –¥–æ –µ–¥–Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –∏ –ø—Ä–µ–¥–ª–∞–≥–∞ –≥–ª–æ–±–∞–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –Ω–µ—è. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –Ω–∞ —Ç–æ–∑–∏ –ø–∞—Ç—ä—Ä–Ω –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –ø—Ä–∏–ª–∏—á–∞ –Ω–∞ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

```php
class Singleton
{
	private static self $instance;

	public static function getInstance(): self
	{
		self::$instance ??= new self;
		return self::$instance;
	}

	// –∏ –¥—Ä—É–≥–∏ –º–µ—Ç–æ–¥–∏, –∏–∑–ø—ä–ª–Ω—è–≤–∞—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ –Ω–∞ –¥–∞–¥–µ–Ω–∏—è –∫–ª–∞—Å
}
```

–ó–∞ —Å—ä–∂–∞–ª–µ–Ω–∏–µ, —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω—ä—Ç –≤—ä–≤–µ–∂–¥–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ. –ò –∫–∞–∫—Ç–æ –ø–æ–∫–∞–∑–∞—Ö–º–µ –ø–æ-–≥–æ—Ä–µ, –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª–Ω–æ. –ó–∞—Ç–æ–≤–∞ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω—ä—Ç —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–Ω—Ç–∏–ø–∞—Ç—ä—Ä–Ω.

–ù–µ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏ –≤—ä–≤ –≤–∞—à–∏—è –∫–æ–¥ –∏ –≥–∏ –∑–∞–º–µ–Ω–µ—Ç–µ —Å –¥—Ä—É–≥–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∏. –ù–∞–∏—Å—Ç–∏–Ω–∞ –Ω–µ —Å–µ –Ω—É–∂–¥–∞–µ—Ç–µ –æ—Ç —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏. –í—ä–ø—Ä–µ–∫–∏ —Ç–æ–≤–∞, –∞–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞—Ç–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞–Ω–µ—Ç–æ –Ω–∞ –µ–¥–Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ –∫–ª–∞—Å –∑–∞ —Ü—è–ª–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ—Å—Ç–∞–≤–µ—Ç–µ —Ç–æ–≤–∞ –Ω–∞ [DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |container]. –ü–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω —Å—ä–∑–¥–∞–π—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏–æ–Ω–µ–Ω —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω, —Ç.–µ. —Å—ä—Ä–≤–∏—Å. –¢–∞–∫–∞ –∫–ª–∞—Å—ä—Ç —â–µ —Å–ø—Ä–µ –¥–∞ —Å–µ –∑–∞–Ω–∏–º–∞–≤–∞ —Å –æ—Å–∏–≥—É—Ä—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∞—Ç–∞ —Å–∏ —É–Ω–∏–∫–∞–ª–Ω–æ—Å—Ç (—Ç.–µ. –Ω—è–º–∞ –¥–∞ –∏–º–∞ –º–µ—Ç–æ–¥ `getInstance()` –∏ —Å—Ç–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞) –∏ —â–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∞–º–æ —Å–≤–æ–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏. –¢–∞–∫–∞ —â–µ —Å–ø—Ä–µ –¥–∞ –Ω–∞—Ä—É—à–∞–≤–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç.


–ì–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ —Å—Ä–µ—â—É —Ç–µ—Å—Ç–æ–≤–µ
--------------------------------

–ü—Ä–∏ –ø–∏—Å–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–º–µ, —á–µ –≤—Å–µ–∫–∏ —Ç–µ—Å—Ç –µ –∏–∑–æ–ª–∏—Ä–∞–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∏ —á–µ –≤ –Ω–µ–≥–æ –Ω–µ –≤–ª–∏–∑–∞ –Ω–∏–∫–∞–∫–≤–æ –≤—ä–Ω—à–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ. –ò –Ω–∏–∫–∞–∫–≤–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –Ω–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ. –°–ª–µ–¥ –ø—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–∞ —Ü—è–ª–æ—Ç–æ —Å–≤—ä—Ä–∑–∞–Ω–æ —Å —Ç–µ—Å—Ç–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç–æ –æ—Ç garbage collector-–∞. –ë–ª–∞–≥–æ–¥–∞—Ä–µ–Ω–∏–µ –Ω–∞ —Ç–æ–≤–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ —Å–∞ –∏–∑–æ–ª–∏—Ä–∞–Ω–∏. –ó–∞—Ç–æ–≤–∞ –º–æ–∂–µ–º –¥–∞ –∏–∑–ø—ä–ª–Ω—è–≤–∞–º–µ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω —Ä–µ–¥.

–ê–∫–æ –æ–±–∞—á–µ —Å–∞ –Ω–∞–ª–∏—Ü–µ –≥–ª–æ–±–∞–ª–Ω–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è/—Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏, –≤—Å–∏—á–∫–∏ —Ç–µ–∑–∏ –ø—Ä–∏—è—Ç–Ω–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–µ —Ä–∞–∑–ø–∞–¥–∞—Ç. –°—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –º–æ–∂–µ –¥–∞ –≤–ª–∏–∑–∞ –∏ –∏–∑–ª–∏–∑–∞ –æ—Ç —Ç–µ—Å—Ç–∞. –ò–∑–≤–µ–¥–Ω—ä–∂ —Ä–µ–¥—ä—Ç –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ó–∞ –¥–∞ –º–æ–∂–µ–º –∏–∑–æ–±—â–æ –¥–∞ —Ç–µ—Å—Ç–≤–∞–º–µ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏—Ç–µ —á–µ—Å—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Ä–∞–∑—Ö–ª–∞–±—è—Ç —Ç–µ—Ö–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –∫–∞—Ç–æ –ø–æ–∑–≤–æ–ª—è—Ç –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è—Ç–∞ –¥–∞ –±—ä–¥–µ –∑–∞–º–µ–Ω–µ–Ω–∞ —Å –¥—Ä—É–≥–∞. –¢–∞–∫–∏–≤–∞ —Ä–µ—à–µ–Ω–∏—è –≤ –Ω–∞–π-–¥–æ–±—Ä–∏—è —Å–ª—É—á–∞–π —Å–∞ —Ö–∞–∫, –∫–æ–π—Ç–æ —Å—ä–∑–¥–∞–≤–∞ —Ç—Ä—É–¥–Ω–æ –ø–æ–¥–¥—ä—Ä–∂–∞–µ–º –∏ —Ä–∞–∑–±–∏—Ä–∞–µ–º –∫–æ–¥. –í—Å–µ–∫–∏ —Ç–µ—Å—Ç –∏–ª–∏ –º–µ—Ç–æ–¥ `tearDown()`, –∫–æ–π—Ç–æ –ø–æ–≤–ª–∏—è–µ –Ω–∞ –Ω—è–∫–∞–∫–≤–æ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, —Ç—Ä—è–±–≤–∞ –¥–∞ –≤—ä—Ä–Ω–µ —Ç–µ–∑–∏ –ø—Ä–æ–º–µ–Ω–∏ –æ–±—Ä–∞—Ç–Ω–æ.

–ì–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –µ –Ω–∞–π-–≥–æ–ª—è–º–æ—Ç–æ –≥–ª–∞–≤–æ–±–æ–ª–∏–µ –ø—Ä–∏ unit —Ç–µ—Å—Ç–≤–∞–Ω–µ—Ç–æ!

–ö–∞–∫ –¥–∞ –ø–æ–ø—Ä–∞–≤–∏–º —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞? –õ–µ—Å–Ω–æ. –ù–µ –ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –¢–æ–µ—Å—Ç dependency injection.


–ì–ª–æ–±–∞–ª–Ω–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
------------------

–ì–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Å–µ –æ–≥—Ä–∞–Ω–∏—á–∞–≤–∞ —Å–∞–º–æ –¥–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Å–∏–Ω–≥—ä–ª—Ç—ä–Ω–∏ –∏ —Å—Ç–∞—Ç–∏—á–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏, –Ω–æ –º–æ–∂–µ –¥–∞ —Å–µ –æ—Ç–Ω–∞—Å—è –∏ –¥–æ –≥–ª–æ–±–∞–ª–Ω–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏.

–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏, —á–∏—è—Ç–æ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–µ –Ω–∏ –Ω–æ—Å–∏ –Ω–∏–∫–∞–∫–≤–∞ –Ω–æ–≤–∞ (`M_PI`) –∏–ª–∏ –ø–æ–ª–µ–∑–Ω–∞ (`PREG_BACKTRACK_LIMIT_ERROR`) –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å–∞ –Ω–µ–¥–≤—É—Å–º–∏—Å–ª–µ–Ω–æ –≤ —Ä–µ–¥. –ù–∞–ø—Ä–æ—Ç–∏–≤, –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏, –∫–æ–∏—Ç–æ —Å–ª—É–∂–∞—Ç –∫–∞—Ç–æ –Ω–∞—á–∏–Ω –∑–∞ *–±–µ–∑–∂–∏—á–Ω–æ* –ø—Ä–µ–¥–∞–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ä—Ç—Ä–µ –≤ –∫–æ–¥–∞, –Ω–µ —Å–∞ –Ω–∏—â–æ –¥—Ä—É–≥–æ –æ—Å–≤–µ–Ω —Å–∫—Ä–∏—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç. –ö–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä `LOG_FILE` –≤ —Å–ª–µ–¥–≤–∞—â–∏—è –ø—Ä–∏–º–µ—Ä. –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ç–∞ `FILE_APPEND` –µ –Ω–∞–ø—ä–ª–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ.

```php
const LOG_FILE = '...';

class Foo
{
	public function doSomething()
	{
		// ...
		file_put_contents(LOG_FILE, $message . "\n", FILE_APPEND);
		// ...
	}
}
```

–í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω–∞ –∫–ª–∞—Å–∞ `Foo`, –∑–∞ –¥–∞ —Å—Ç–∞–Ω–µ —á–∞—Å—Ç –æ—Ç API:

```php
class Foo
{
	public function __construct(
		private string $logFile,
	) {
	}

	public function doSomething()
	{
		// ...
		file_put_contents($this->logFile, $message . "\n", FILE_APPEND);
		// ...
	}
}
```

–°–µ–≥–∞ –º–æ–∂–µ–º –¥–∞ –ø—Ä–µ–¥–∞–¥–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø—ä—Ç—è –¥–æ –ª–æ–≥ —Ñ–∞–π–ª–∞ –∏ –ª–µ—Å–Ω–æ –¥–∞ –≥–æ –ø—Ä–æ–º–µ–Ω—è–º–µ –ø—Ä–∏ –Ω—É–∂–¥–∞, –∫–æ–µ—Ç–æ —É–ª–µ—Å–Ω—è–≤–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ—Ç–æ –∏ –ø–æ–¥–¥—Ä—ä–∂–∫–∞—Ç–∞ –Ω–∞ –∫–æ–¥–∞.


–ì–ª–æ–±–∞–ª–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—á–Ω–∏ –º–µ—Ç–æ–¥–∏
----------------------------------

–ò—Å–∫–∞–º–µ –¥–∞ –ø–æ–¥—á–µ—Ä—Ç–∞–µ–º, —á–µ —Å–∞–º–æ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏ –º–µ—Ç–æ–¥–∏ –∏ –≥–ª–æ–±–∞–ª–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –µ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ. –û–±—è—Å–Ω–∏—Ö–º–µ –∑–∞—â–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ `DB::insert()` –∏ –ø–æ–¥–æ–±–Ω–∏ –º–µ—Ç–æ–¥–∏ –µ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–æ, –Ω–æ –≤–∏–Ω–∞–≥–∏ —Å—Ç–∞–≤–∞—à–µ –¥—É–º–∞ —Å–∞–º–æ –∑–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–µ—Ç–æ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –≤ –Ω—è–∫–∞–∫–≤–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞. –ú–µ—Ç–æ–¥—ä—Ç `DB::insert()` –∏–∑–∏—Å–∫–≤–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞, —Ç—ä–π –∫–∞—Ç–æ –≤ –Ω–µ—è —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏. –ë–µ–∑ —Ç–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –±–∏ –±–∏–ª–æ –Ω–µ–≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ —Å–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –º–µ—Ç–æ–¥—ä—Ç.

–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–Ω–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏ –º–µ—Ç–æ–¥–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä `DateTime::createFromFormat()`, `Closure::fromCallable`, `strlen()` –∏ –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏, –µ –≤ –ø—ä–ª–Ω–æ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å dependency injection. –¢–µ–∑–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏–Ω–∞–≥–∏ –≤—Ä—ä—â–∞—Ç –µ–¥–Ω–∏ –∏ —Å—ä—â–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –∑–∞ –µ–¥–Ω–∏ –∏ —Å—ä—â–∏ –≤—Ö–æ–¥–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∏ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ —Å–∞ –ø—Ä–µ–¥–≤–∏–¥–∏–º–∏. –¢–µ –Ω–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –Ω–∏–∫–∞–∫–≤–æ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.

–°—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –æ–±–∞—á–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ PHP, –∫–æ–∏—Ç–æ –Ω–µ —Å–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–Ω–∏. –ö—ä–º —Ç—è—Ö –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏ –Ω–∞–ø—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `htmlspecialchars()`. –ù–µ–π–Ω–∏—è—Ç —Ç—Ä–µ—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä `$encoding`, –∞–∫–æ –Ω–µ –µ –ø–æ—Å–æ—á–µ–Ω, –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∏–º–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ –æ–ø—Ü–∏—è `ini_get('default_charset')`. –ó–∞—Ç–æ–≤–∞ —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –≤–∏–Ω–∞–≥–∏ –¥–∞ —Å–µ –ø–æ—Å–æ—á–≤–∞ —Ç–æ–∑–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, –∑–∞ –¥–∞ —Å–µ –∏–∑–±–µ–≥–Ω–µ –µ–≤–µ–Ω—Ç—É–∞–ª–Ω–æ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞. Nette –≥–æ –ø—Ä–∞–≤–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ.

–ù—è–∫–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä `strtolower()`, `strtoupper()` –∏ –ø–æ–¥–æ–±–Ω–∏, –≤ –±–ª–∏–∑–∫–æ—Ç–æ –º–∏–Ω–∞–ª–æ —Å–µ –¥—ä—Ä–∂–∞—Ö–∞ –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–Ω–æ –∏ –∑–∞–≤–∏—Å–µ—Ö–∞ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ `setlocale()`. –¢–æ–≤–∞ –ø—Ä–∏—á–∏–Ω—è–≤–∞—à–µ –º–Ω–æ–≥–æ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è, –Ω–∞–π-—á–µ—Å—Ç–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å —Ç—É—Ä—Å–∫–∏ –µ–∑–∏–∫. –¢–æ–π —Ä–∞–∑–ª–∏—á–∞–≤–∞ –º–∞–ª–∫–∏ –∏ –≥–æ–ª–µ–º–∏ –±—É–∫–≤–∏ `I` —Å —Ç–æ—á–∫–∞ –∏ –±–µ–∑ —Ç–æ—á–∫–∞. –¢–∞–∫–∞ —á–µ `strtolower('I')` –≤—Ä—ä—â–∞—à–µ –∑–Ω–∞–∫–∞ `ƒ±`, –∞ `strtoupper('i')` - –∑–Ω–∞–∫–∞ `ƒ∞`, –∫–æ–µ—Ç–æ –≤–æ–¥–µ—à–µ –¥–æ —Ç–æ–≤–∞, —á–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –∑–∞–ø–æ—á–≤–∞—Ö–∞ –¥–∞ –ø—Ä–∏—á–∏–Ω—è–≤–∞—Ç —Ä–µ–¥–∏—Ü–∞ –º–∏—Å—Ç–µ—Ä–∏–æ–∑–Ω–∏ –≥—Ä–µ—à–∫–∏. –¢–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º –æ–±–∞—á–µ –±–µ—à–µ –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω –≤ PHP –≤–µ—Ä—Å–∏—è 8.2 –∏ —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ –≤–µ—á–µ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç locale.

–¢–æ–≤–∞ –µ —Ö—É–±–∞–≤ –ø—Ä–∏–º–µ—Ä –∫–∞–∫ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –µ –∏–∑–º—ä—á–≤–∞–ª–æ —Ö–∏–ª—è–¥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏ –ø–æ —Ü–µ–ª–∏—è —Å–≤—è—Ç. –†–µ—à–µ–Ω–∏–µ—Ç–æ –±–µ—à–µ –¥–∞ —Å–µ –∑–∞–º–µ–Ω–∏ —Å dependency injection.


–ö–æ–≥–∞ –µ –≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ?
--------------------------------------------------

–°—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏, –≤ –∫–æ–∏—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –¥–µ–±—ä–≥–≤–∞–Ω–µ –Ω–∞ –∫–æ–¥, –∫–æ–≥–∞—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–¥–µ—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∏–ª–∏ –¥–∞ –∏–∑–º–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —á–∞—Å—Ç –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞. –í —Ç–∞–∫–∏–≤–∞ —Å–ª—É—á–∞–∏, –∫–æ–∏—Ç–æ —Å–µ –æ—Ç–Ω–∞—Å—è—Ç –¥–æ –≤—Ä–µ–º–µ–Ω–Ω–∏ –∞–∫—Ç–æ–≤–µ, –∫–æ–∏—Ç–æ –ø–æ-–∫—ä—Å–Ω–æ —â–µ –±—ä–¥–∞—Ç –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏ –æ—Ç –∫–æ–¥–∞, –µ –≤—ä–∑–º–æ–∂–Ω–æ –ª–µ–≥–∏—Ç–∏–º–Ω–æ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≥–ª–æ–±–∞–ª–Ω–æ –¥–æ—Å—Ç—ä–ø–µ–Ω dumper –∏–ª–∏ —Ö—Ä–æ–Ω–æ–º–µ—Ç—ä—Ä. –¢–µ–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ —Å–∞ —á–∞—Å—Ç –æ—Ç –¥–∏–∑–∞–π–Ω–∞ –Ω–∞ –∫–æ–¥–∞.

–î—Ä—É–≥ –ø—Ä–∏–º–µ—Ä —Å–∞ —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–≥—É–ª—è—Ä–Ω–∏ –∏–∑—Ä–∞–∑–∏ `preg_*`, –∫–æ–∏—Ç–æ –≤—ä—Ç—Ä–µ—à–Ω–æ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –∫–æ–º–ø–∏–ª–∏—Ä–∞–Ω–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∏ –∏–∑—Ä–∞–∑–∏ –≤ —Å—Ç–∞—Ç–∏—á–µ–Ω –∫–µ—à –≤ –ø–∞–º–µ—Ç—Ç–∞. –¢–∞–∫–∞ —á–µ, –∫–æ–≥–∞—Ç–æ –∏–∑–≤–∏–∫–≤–∞—Ç–µ –µ–¥–∏–Ω –∏ —Å—ä—â —Ä–µ–≥—É–ª—è—Ä–µ–Ω –∏–∑—Ä–∞–∑ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–∞, —Ç–æ–π —Å–µ –∫–æ–º–ø–∏–ª–∏—Ä–∞ —Å–∞–º–æ –≤–µ–¥–Ω—ä–∂. –ö–µ—à—ä—Ç —Å–ø–µ—Å—Ç—è–≤–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –∏ –≤ —Å—ä—â–æ—Ç–æ –≤—Ä–µ–º–µ –µ –Ω–∞–ø—ä–ª–Ω–æ –Ω–µ–≤–∏–¥–∏–º –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∑–∞—Ç–æ–≤–∞ —Ç–∞–∫–æ–≤–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –º–æ–∂–µ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –ª–µ–≥–∏—Ç–∏–º–Ω–æ.


–û–±–æ–±—â–µ–Ω–∏–µ
---------

–û–±—Å—ä–¥–∏—Ö–º–µ –∑–∞—â–æ –∏–º–∞ —Å–º–∏—Å—ä–ª:

1) –î–∞ –ø—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –≤—Å–∏—á–∫–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –æ—Ç –∫–æ–¥–∞
2) –î–∞ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3) –ò –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ dependency injection

–ö–æ–≥–∞—Ç–æ –æ–±–º–∏—Å–ª—è—Ç–µ –¥–∏–∑–∞–π–Ω–∞ –Ω–∞ –∫–æ–¥–∞, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –≤—Å—è–∫–æ `static $foo` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –ø—Ä–æ–±–ª–µ–º. –ó–∞ –¥–∞ –±—ä–¥–µ –≤–∞—à–∏—è—Ç –∫–æ–¥ —Å—Ä–µ–¥–∞, —É–≤–∞–∂–∞–≤–∞—â–∞ DI, –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø—ä–ª–Ω–æ –¥–∞ –∏–∑–∫–æ—Ä–µ–Ω–∏—Ç–µ –≥–ª–æ–±–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–∞ –≥–æ –∑–∞–º–µ–Ω–∏—Ç–µ —Å dependency injection.

–ü–æ –≤—Ä–µ–º–µ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–æ—Ü–µ—Å –º–æ–∂–µ –¥–∞ –æ—Ç–∫—Ä–∏–µ—Ç–µ, —á–µ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –∫–ª–∞—Å–∞, –∑–∞—â–æ—Ç–æ —Ç–æ–π –∏–º–∞ –ø–æ–≤–µ—á–µ –æ—Ç –µ–¥–Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç. –ù–µ —Å–µ —Å—Ç—Ä–∞—Ö—É–≤–∞–π—Ç–µ –æ—Ç —Ç–æ–≤–∞; —Å—Ç—Ä–µ–º–µ—Ç–µ —Å–µ –∫—ä–º –ø—Ä–∏–Ω—Ü–∏–ø–∞ –Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç.

*–ë–∏—Ö –∏—Å–∫–∞–ª –¥–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞ Mi≈°ko Hevery, —á–∏–∏—Ç–æ —Å—Ç–∞—Ç–∏–∏, –∫–∞—Ç–æ [Flaw: Brittle Global State & Singletons |https://web.archive.org/web/20230321084133/http://misko.hevery.com/code-reviewers-guide/flaw-brittle-global-state-singletons/], —Å–∞ –≤ –æ—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ —Ç–∞–∑–∏ –≥–ª–∞–≤–∞.*
