Paginator
*********

.[perex]
Potrzebujesz paginować zrzut danych? Ponieważ matematyka paginacji może być skomplikowana, [api:Nette\Utils\Paginator] może ci w tym pomóc.

Instalacja:

```shell
composer require nette/utils
```

Utwórz obiekt stronicowania i ustaw jego podstawowe informacje:

```php
$paginator = new Nette\Utils\Paginator;
$paginator->setPage(1); // číslo aktuální stránky
$paginator->setItemsPerPage(30); // počet položek na stránce
$paginator->setItemCount(356); // celkový počet položek, je-li znám
```

Strony są numerowane od 1. Możemy to zmienić używając `setBase()`:

```php
$paginator->setBase(0); // číslujeme od 0
```

Obiekt będzie teraz dostarczał wszystkich podstawowych informacji przydatnych podczas tworzenia strony stronicowania. Na przykład możesz przekazać go do szablonu i użyć go tam.

```php
$paginator->isFirst(); // jsme na první stránce?
$paginator->isLast(); // jsme na poslední stránce?
$paginator->getPage(); // číslo aktuální stránky
$paginator->getFirstPage(); // číslo první stránky
$paginator->getLastPage(); // číslo poslední stránky
$paginator->getFirstItemOnPage(); // pořadové číslo první položky na stránce
$paginator->getLastItemOnPage(); // pořadové číslo poslední položky na stránce
$paginator->getPageIndex(); // číslo aktuální stránky číslované od 0
$paginator->getPageCount(); // celkový počet stránek
$paginator->getItemsPerPage(); // počet položek na stránku
$paginator->getItemCount(); // celkový počet položek, je-li znám
```

Konstruktor stron pomoże w formułowaniu zapytań SQL. Metody `getLength()` i `getOffset()` zwracają wartości do wykorzystania w klauzulach LIMIT i OFFSET:

```php
$result = $database->query(
	'SELECT * FROM items LIMIT ? OFFSET ?',
	$paginator->getLength(),
	$paginator->getOffset(),
);
```

Jeśli potrzebujemy paginować w odwrotnej kolejności, tzn. strona 1 odpowiada najwyższemu offsetowi, używamy `getCountdownOffset()`:

```php
$result = $database->query(
	'SELECT * FROM items LIMIT ? OFFSET ?',
	$paginator->getLength(),
	$paginator->getCountdownOffset(),
);
```

Zobacz [Database Results Pagination |best-practices:pagination] Cookbook, aby zobaczyć przykład, jak użyć tego w aplikacji.
