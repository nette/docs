Система типів
*************

<div class=perex>

Система типів є фундаментальним каменем для розробки надійних додатків. Latte привносить підтримку типів і в шаблони. Завдяки знанню типів даних або об'єктів кожної змінної ми можемо досягти:

- Точної підказки коду в IDE (див. [інтеграція|recipes#Editory a IDE])
- Виявлення помилок за допомогою статичного аналізу

Ці функції значно підвищують якість коду та полегшують процес розробки.

</div>

.[note]
Важливо зазначити, що оголошені типи на даний момент є лише інформативними, і Latte їх активно не перевіряє.

Як реалізувати систему типів? Почніть зі створення класу, що представляє параметри шаблону, наприклад, `CatalogTemplateParameters`. Цей клас визначає передані параметри, їх типи та, можливо, значення за замовчуванням:

```php
class CatalogTemplateParameters
{
	public function __construct(
		public string $langs,
		/** @var ProductEntity[] */
		public array $products,
		public Address $address,
	) {}
}

$latte->render('template.latte', new CatalogTemplateParameters(
	address: $userAddress,
	lang: $settings->getLanguage(),
	products: $entityManager->getRepository('Product')->findAll(),
));
```

Потім на початку шаблону розмістіть тег `{templateType}` з повним ім'ям класу (включаючи простір імен). Цим ви визначаєте, що в шаблоні доступні змінні `$langs` та `$products` з відповідними типами.
Для локальних змінних ви можете вказати типи за допомогою тегів [`{var}` |tags#var-default], `{varType}` або [`{define}` |template-inheritance#definice].

Ці кроки дозволять вашому IDE надавати точні підказки коду.

Для полегшення роботи з системою типів Latte пропонує інструменти для автоматичної генерації коду:

- `{templatePrint}` генерує пропозицію класу з параметрами шаблону
- `{varPrint}` створює список тегів `{varType}` для локальних змінних

Ці теги при використанні в шаблоні відобразять пропозицію коду замість звичайного відображення. Згенерований код потім можна просто скопіювати до вашого проекту або шаблону.


`{templateType}`
----------------
Для оголошення типів параметрів, що передаються в шаблон, використовуйте клас наступним чином:

```latte
{templateType MyApp\CatalogTemplateParameters}
```


`{varType}`
-----------
Для оголошення типів існуючих змінних використовуйте `{varType}`, для нових змінних [`{var}` |tags#var-default]:

```latte
{varType Nette\Security\User $user}
{varType string $lang}
```


`{templatePrint}`
-----------------
Для автоматичної генерації класу параметрів шаблону використовуйте `{templatePrint}` на початку шаблону. Замість звичайного відображення з'явиться пропозиція класу, яку ви можете просто скопіювати до свого проекту.


`{varPrint}`
------------
Тег `{varPrint}` заощадить вам час на написання. Якщо ви розмістите його в шаблоні, замість звичайного відображення з'явиться пропозиція тегів `{varType}` для локальних змінних. Потім код достатньо одним кліком виділити та скопіювати до шаблону.

Сам `{varPrint}` виводить лише локальні змінні, які не є параметрами шаблону. Якщо ви хочете вивести всі змінні, використовуйте `{varPrint all}`.

Реалізація системи типів у Latte значно сприяє створенню більш надійних та легких для підтримки шаблонів, що призводить до загального покращення якості ваших додатків.
