Datum a čas
***********

.[perex]
[api:Nette\Utils\DateTime] je třída, která rozšiřuje nativní [php:DateTime] o další funkce.

Oproti svému předchůdci je striktní. Zatímco PHP **tiše akceptuje** nesmyslná data jako `0000-00-00` (převede na `-0001-11-30`) nebo `2024-02-31` (převede na `2024-03-02`), `Nette\Utils\DateTime` v takových případech vyhodí výjimku.

Zároveň **opravuje chování** při přechodu na letní/zimní čas, kdy v nativním PHP může přičtení relativního času (např. `+100 minutes`) "vést k dřívějšímu výslednému času":https://phpfashion.com/cs/100-minut-je-mene-nez-50-paradoxy-php-pri-zmene-casu než přičtení kratšího úseku (např. `+50 minutes`). Nette zajišťuje, že aritmetika funguje intuitivně a `+100 minutes` je vždy více než `+50 minutes`.

Instalace:

```shell
composer require nette/utils
```

Všechny příklady předpokládají vytvořený alias:

```php
use Nette\Utils\DateTime;
```


static from(string|int|\DateTimeInterface $time): DateTime .[method]
--------------------------------------------------------------------
Vytvoří objekt DateTime z řetězce, UNIX timestamp nebo jiného objektu [php:DateTimeInterface]. Vyhodí výjimku `Exception`, pokud datum a čas není platný.

```php
DateTime::from(1138013640); // vytvoří DateTime z UNIX timestamp s výchozí timezone
DateTime::from(42); // vytvoří DateTime z aktuálního času plus 42 sekund
DateTime::from('1994-02-26 04:15:32'); // vytvoří DateTime podle řetězce
DateTime::from('1994-02-26'); // vytvoří DateTime podle data, čas bude 00:00:00
```


static fromParts(int $year, int $month, int $day, int $hour=0, int $minute=0, float $second=0.0): DateTime .[method]
--------------------------------------------------------------------------------------------------------------------
Vytvoří objekt DateTime nebo vyhodí výjimku `Nette\InvalidArgumentException`, pokud datum a čas není platný.
```php
DateTime::fromParts(1994, 2, 26, 4, 15, 32);
```


static createFromFormat(string $format, string $time, ?string|\DateTimeZone $timezone=null): DateTime|false .[method]
---------------------------------------------------------------------------------------------------------------------
Rozšiřuje [DateTime::createFromFormat()|https://www.php.net/manual/en/datetime.createfromformat.php] o možnost zadat timezone jako řetězec.
```php
DateTime::createFromFormat('d.m.Y', '26.02.1994', 'Europe/London');
```


static relativeToSeconds(string $str): int .[method]{data-version:4.0.7}
------------------------------------------------------------------------
Převede relativní časový údaj na sekundy. Hodí se pro převod časů jako `5 minutes` nebo `2 hours` na číselnou hodnotu.

```php
DateTime::relativeToSeconds('1 minute'); // 60
DateTime::relativeToSeconds('10 minutes'); // 600
DateTime::relativeToSeconds('-1 hour'); // -3600
```


modifyClone(string $modify=''): static .[method]
------------------------------------------------
Vytvoří kopii s upraveným časem.
```php
$original = DateTime::from('2017-02-03');
$clone = $original->modifyClone('+1 day');
$original->format('Y-m-d'); // '2017-02-03'
$clone->format('Y-m-d');    // '2017-02-04'
```


__toString(): string .[method]
------------------------------
Vrací datum a čas ve formátu `Y-m-d H:i:s`.
```php
echo $dateTime; // '2017-02-03 04:15:32'
```


implementuje JsonSerializable
-----------------------------
Vrací datum a čas ve formátu ISO 8601, který je používán třeba v JavaScriptu.
```php
$date = DateTime::from('2017-02-03');
echo json_encode($date);
```
