Veritabanını Yapılandırma
*************************

.[perex]
Nette Veritabanı için yapılandırma seçeneklerine genel bakış.

Tüm çerçeveyi değil, yalnızca bu kütüphaneyi kullanıyorsanız, [yapılandırmayı nasıl yükleyeceğinizi |bootstrap:] okuyun.


Tek Bağlantı .[#toc-single-connection]
--------------------------------------

Tek bir veritabanı bağlantısı yapılandırın:

```neon
database:
	# DSN, only mandatory key
	dsn: "sqlite:%appDir%/Model/demo.db"
	user: ...
	password: ...
```

 [Veritabanı Gezgini |explorer] katmanı için `Nette\Database\Connection` ve ayrıca `Nette\Database\Explorer` türünde hizmetler oluşturur. Veritabanı bağlantısı genellikle [otomatik kablolama |dependency-injection:autowiring] ile aktarılır, bu mümkün değilse `@database.default.connection` ve `@database.default.explorer` servis adlarını kullanın.

Diğer ayarlar:

```neon
database:
	# shows database panel in Tracy Bar?
	debugger: ...     # (bool) defaults to true

	# shows query EXPLAIN in Tracy Bar?
	explain: ...      # (bool) defaults to true

	# to enable autowiring for this connection?
	autowired: ...    # (bool) defaults to true for first connection

	# table conventions: discovered, static, or class name
	conventions: discovered  # (string) defaults to 'discovered'

	options:
		# to connect to the database only when needed?
		lazy: ...     # (bool) defaults to false

		# PHP database driver class
		driverClass:  # (string)

		# only MySQL: sets sql_mode
		sqlmode:      # (string)

		# only MySQL: sets SET NAMES
		charset:      # (string) defaults to 'utf8mb4' ('utf8' before v5.5.3)

		# only Oracle and SQLite: date format
		formatDateTime: # (string) defaults to 'U'
```

 `options` anahtarı, [PDO sürücü belgelerinde |https://www.php.net/manual/en/pdo.drivers.php] bulunabilecek diğer seçenekleri içerebilir, örneğin:

```neon
database:
	options:
		PDO::MYSQL_ATTR_COMPRESS: true
```


Çoklu Bağlantılar .[#toc-multiple-connections]
----------------------------------------------

Yapılandırmada, adlandırılmış bölümlere ayırarak daha fazla veritabanı bağlantısı tanımlayabiliriz:

```neon
database:
	main:
		dsn: 'mysql:host=127.0.0.1;dbname=test'
		user: root
		password: password

	another:
		dsn: 'sqlite::memory:'
```

Tanımlanan her bağlantı, adlarında bölüm adını içeren hizmetler oluşturur, yani `@database.main.connection` & `@database.main.explorer` ve ayrıca `@database.another.connection` & `@database.another.explorer`.

Otomatik bağlantı yalnızca ilk bölümdeki hizmetler için etkinleştirilir. Bu, `autowired: false` veya `autowired: true` ile değiştirilebilir. Otomatik bağlanmayan hizmetler isimle iletilir:

```neon
services:
	- UserFacade(@database.another.connection)
```
